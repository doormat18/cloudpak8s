{"expireTime":9007200838008499000,"key":"gatsby-plugin-mdx-entire-payload-89be0ccfe813bff3b66dbf73ff68499d-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import DefaultLayout from \"/Users/davethiessen/github/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\"","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":124,"offset":125},"indent":[]}},{"type":"export","default":true,"value":"export default DefaultLayout","position":{"start":{"line":5,"column":1,"offset":127},"end":{"line":5,"column":29,"offset":155},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[],"position":{"start":{"line":7,"column":1,"offset":157},"end":{"line":7,"column":3,"offset":159},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":157},"end":{"line":7,"column":3,"offset":159},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"make sure there is a space after the - so that the TOC is generated","position":{"start":{"line":8,"column":3,"offset":162},"end":{"line":8,"column":70,"offset":229},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":160},"end":{"line":8,"column":70,"offset":229},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"{:toc}","position":{"start":{"line":9,"column":1,"offset":230},"end":{"line":9,"column":7,"offset":236},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":230},"end":{"line":9,"column":7,"offset":236},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"(19.0.3 UPDATE NEEDED)","position":{"start":{"line":11,"column":3,"offset":240},"end":{"line":11,"column":25,"offset":262},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":238},"end":{"line":11,"column":27,"offset":264},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":238},"end":{"line":11,"column":27,"offset":264},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Required services","position":{"start":{"line":13,"column":5,"offset":270},"end":{"line":13,"column":22,"offset":287},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":266},"end":{"line":13,"column":22,"offset":287},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Before installing IBM Business Automation Navigator (ICN), you should have the following pre-requisites in place:","position":{"start":{"line":14,"column":1,"offset":288},"end":{"line":14,"column":114,"offset":401},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":288},"end":{"line":14,"column":114,"offset":401},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Have privileged access to your DB2 database server. ","position":{"start":{"line":16,"column":3,"offset":405},"end":{"line":16,"column":55,"offset":457},"indent":[]}}],"position":{"start":{"line":16,"column":3,"offset":405},"end":{"line":16,"column":55,"offset":457},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":403},"end":{"line":16,"column":55,"offset":457},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Optionally, have access to your LDAP directory server.","position":{"start":{"line":17,"column":3,"offset":460},"end":{"line":17,"column":57,"offset":514},"indent":[]}}],"position":{"start":{"line":17,"column":3,"offset":460},"end":{"line":17,"column":57,"offset":514},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":458},"end":{"line":17,"column":57,"offset":514},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":403},"end":{"line":17,"column":57,"offset":514},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"See the ","position":{"start":{"line":19,"column":1,"offset":516},"end":{"line":19,"column":9,"offset":524},"indent":[]}},{"type":"link","title":null,"url":"/content/automation/shared-services","children":[{"type":"text","value":"Shared services","position":{"start":{"line":19,"column":10,"offset":525},"end":{"line":19,"column":25,"offset":540},"indent":[]}}],"position":{"start":{"line":19,"column":9,"offset":524},"end":{"line":19,"column":63,"offset":578},"indent":[]}},{"type":"text","value":" chapter for details on DB2 or LDAP installation, if needed.","position":{"start":{"line":19,"column":63,"offset":578},"end":{"line":19,"column":123,"offset":638},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":516},"end":{"line":19,"column":123,"offset":638},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Log in to you OCP cluster","position":{"start":{"line":21,"column":5,"offset":644},"end":{"line":21,"column":30,"offset":669},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":640},"end":{"line":21,"column":30,"offset":669},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"See the ","position":{"start":{"line":22,"column":1,"offset":670},"end":{"line":22,"column":9,"offset":678},"indent":[]}},{"type":"link","title":null,"url":"/content/automation/pre-requisites","children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":22,"column":10,"offset":679},"end":{"line":22,"column":23,"offset":692},"indent":[]}}],"position":{"start":{"line":22,"column":9,"offset":678},"end":{"line":22,"column":60,"offset":729},"indent":[]}},{"type":"text","value":" chapter for details on logging in to your OCP cluster.","position":{"start":{"line":22,"column":60,"offset":729},"end":{"line":22,"column":115,"offset":784},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":670},"end":{"line":22,"column":115,"offset":784},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Download the ICN PPA","position":{"start":{"line":24,"column":5,"offset":790},"end":{"line":24,"column":25,"offset":810},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":786},"end":{"line":24,"column":26,"offset":811},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Download the following PPA from ","position":{"start":{"line":25,"column":1,"offset":812},"end":{"line":25,"column":33,"offset":844},"indent":[]}},{"type":"link","title":null,"url":"https://www.ibm.com/software/passportadvantage","children":[{"type":"text","value":"IBM Passport Advantage","position":{"start":{"line":25,"column":34,"offset":845},"end":{"line":25,"column":56,"offset":867},"indent":[]}}],"position":{"start":{"line":25,"column":33,"offset":844},"end":{"line":25,"column":105,"offset":916},"indent":[]}},{"type":"text","value":" to your working-directory:","position":{"start":{"line":25,"column":105,"offset":916},"end":{"line":25,"column":132,"offset":943},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":812},"end":{"line":25,"column":132,"offset":943},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"IBM Cloud Pak for Automation v19.0.1 - Content Navigator for Certified Kubernetes Multiplatform Multilingual (CC221ML)","position":{"start":{"line":27,"column":4,"offset":948},"end":{"line":27,"column":122,"offset":1066},"indent":[]}}],"position":{"start":{"line":27,"column":3,"offset":947},"end":{"line":27,"column":123,"offset":1067},"indent":[]}}],"position":{"start":{"line":27,"column":3,"offset":947},"end":{"line":27,"column":123,"offset":1067},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":945},"end":{"line":27,"column":123,"offset":1067},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":945},"end":{"line":27,"column":123,"offset":1067},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The downloaded archive should be named ","position":{"start":{"line":29,"column":1,"offset":1069},"end":{"line":29,"column":40,"offset":1108},"indent":[]}},{"type":"inlineCode","value":"ICP4A19.0.1-fncn.tgz","position":{"start":{"line":29,"column":40,"offset":1108},"end":{"line":29,"column":62,"offset":1130},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":29,"column":62,"offset":1130},"end":{"line":29,"column":63,"offset":1131},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":1069},"end":{"line":29,"column":63,"offset":1131},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Create the ICN project","position":{"start":{"line":31,"column":5,"offset":1137},"end":{"line":31,"column":27,"offset":1159},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":1133},"end":{"line":31,"column":27,"offset":1159},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Create a new OpenShift project for ICN with your desired name, e.g. ","position":{"start":{"line":32,"column":1,"offset":1160},"end":{"line":32,"column":69,"offset":1228},"indent":[]}},{"type":"inlineCode","value":"fncnproject","position":{"start":{"line":32,"column":69,"offset":1228},"end":{"line":32,"column":82,"offset":1241},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":32,"column":82,"offset":1241},"end":{"line":32,"column":83,"offset":1242},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":1160},"end":{"line":32,"column":83,"offset":1242},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc new-project fncnproject","position":{"start":{"line":34,"column":1,"offset":1244},"end":{"line":36,"column":4,"offset":1278},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Make sure you are working from  your newly created ICN project, then grant the tiller server ","position":{"start":{"line":38,"column":1,"offset":1280},"end":{"line":38,"column":94,"offset":1373},"indent":[]}},{"type":"inlineCode","value":"edit","position":{"start":{"line":38,"column":94,"offset":1373},"end":{"line":38,"column":100,"offset":1379},"indent":[]}},{"type":"text","value":" access to current project:","position":{"start":{"line":38,"column":100,"offset":1379},"end":{"line":38,"column":127,"offset":1406},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":1280},"end":{"line":38,"column":127,"offset":1406},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc project fncnproject\noc adm policy add-role-to-user edit \"system:serviceaccount:tiller:tiller\"","position":{"start":{"line":40,"column":1,"offset":1408},"end":{"line":43,"column":4,"offset":1512},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Update the SCC","position":{"start":{"line":45,"column":5,"offset":1518},"end":{"line":45,"column":19,"offset":1532},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":1514},"end":{"line":45,"column":19,"offset":1532},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc adm policy add-scc-to-user privileged -z default\n\noc edit namespace fncnproject","position":{"start":{"line":46,"column":1,"offset":1533},"end":{"line":50,"column":4,"offset":1623},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"While in the editor change these lines:","position":{"start":{"line":52,"column":1,"offset":1625},"end":{"line":52,"column":40,"offset":1664},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":1625},"end":{"line":52,"column":40,"offset":1664},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"openshift.io/sa.scc.supplemental-groups: 1000330000/10000","position":{"start":{"line":53,"column":4,"offset":1668},"end":{"line":53,"column":61,"offset":1725},"indent":[]}}],"position":{"start":{"line":53,"column":4,"offset":1668},"end":{"line":53,"column":61,"offset":1725},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":1665},"end":{"line":53,"column":61,"offset":1725},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"openshift.io/sa.scc.uid-range: 1000330000/10000  ","position":{"start":{"line":54,"column":4,"offset":1729},"end":{"line":54,"column":53,"offset":1778},"indent":[]}}],"position":{"start":{"line":54,"column":4,"offset":1729},"end":{"line":54,"column":53,"offset":1778},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":1726},"end":{"line":54,"column":53,"offset":1778},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":1665},"end":{"line":54,"column":53,"offset":1778},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"To look like this:","position":{"start":{"line":56,"column":1,"offset":1780},"end":{"line":56,"column":19,"offset":1798},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":1780},"end":{"line":56,"column":19,"offset":1798},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"openshift.io/sa.scc.supplemental-groups: 50000","position":{"start":{"line":57,"column":4,"offset":1802},"end":{"line":57,"column":50,"offset":1848},"indent":[]}}],"position":{"start":{"line":57,"column":4,"offset":1802},"end":{"line":57,"column":50,"offset":1848},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":1799},"end":{"line":57,"column":50,"offset":1848},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"openshift.io/sa.scc.uid-range: 50001","position":{"start":{"line":58,"column":4,"offset":1852},"end":{"line":58,"column":40,"offset":1888},"indent":[]}}],"position":{"start":{"line":58,"column":4,"offset":1852},"end":{"line":58,"column":40,"offset":1888},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":1849},"end":{"line":58,"column":40,"offset":1888},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":1799},"end":{"line":58,"column":40,"offset":1888},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"You may get the following error if the SCC is not applied properly:","position":{"start":{"line":60,"column":1,"offset":1890},"end":{"line":60,"column":68,"offset":1957},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":1890},"end":{"line":60,"column":68,"offset":1957},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"forbidden: unable to validate against any security context constraint: [fsGroup: Invalid value: []int64{50000}: 50000 is not an allowed group","position":{"start":{"line":61,"column":1,"offset":1958},"end":{"line":63,"column":4,"offset":2107},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Push the FNCN images to the registry","position":{"start":{"line":65,"column":5,"offset":2113},"end":{"line":65,"column":41,"offset":2149},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":2109},"end":{"line":65,"column":41,"offset":2149},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Get the route to the docker service as described in the ","position":{"start":{"line":66,"column":3,"offset":2152},"end":{"line":66,"column":59,"offset":2208},"indent":[]}},{"type":"link","title":null,"url":"/content/automation/pre-requisites","children":[{"type":"text","value":"Pre-requisites","position":{"start":{"line":66,"column":60,"offset":2209},"end":{"line":66,"column":74,"offset":2223},"indent":[]}}],"position":{"start":{"line":66,"column":59,"offset":2208},"end":{"line":66,"column":111,"offset":2260},"indent":[]}},{"type":"text","value":" chapter, then login to your Docker registry:","position":{"start":{"line":66,"column":111,"offset":2260},"end":{"line":66,"column":156,"offset":2305},"indent":[]}}],"position":{"start":{"line":66,"column":3,"offset":2152},"end":{"line":66,"column":156,"offset":2305},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":2150},"end":{"line":66,"column":156,"offset":2305},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":2150},"end":{"line":66,"column":156,"offset":2305},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"docker login -u $(oc whoami) -p $(oc whoami -t) <route-to-docker-service>","position":{"start":{"line":67,"column":1,"offset":2306},"end":{"line":69,"column":4,"offset":2387},"indent":[1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Download the ","position":{"start":{"line":71,"column":3,"offset":2391},"end":{"line":71,"column":16,"offset":2404},"indent":[]}},{"type":"inlineCode","value":"loadimages.sh","position":{"start":{"line":71,"column":16,"offset":2404},"end":{"line":71,"column":31,"offset":2419},"indent":[]}},{"type":"text","value":" script from the ","position":{"start":{"line":71,"column":31,"offset":2419},"end":{"line":71,"column":48,"offset":2436},"indent":[]}},{"type":"inlineCode","value":"icp4a","position":{"start":{"line":71,"column":48,"offset":2436},"end":{"line":71,"column":55,"offset":2443},"indent":[]}},{"type":"text","value":" GitHub repo to your working directory:","position":{"start":{"line":71,"column":55,"offset":2443},"end":{"line":71,"column":94,"offset":2482},"indent":[]}}],"position":{"start":{"line":71,"column":3,"offset":2391},"end":{"line":71,"column":94,"offset":2482},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":2389},"end":{"line":71,"column":94,"offset":2482},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":2389},"end":{"line":71,"column":94,"offset":2482},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"wget https://raw.githubusercontent.com/icp4a/cert-kubernetes/19.0.1/scripts/loadimages.sh\nchmod +x loadimages.sh","position":{"start":{"line":72,"column":1,"offset":2483},"end":{"line":75,"column":4,"offset":2603},"indent":[1,1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Load the ICN images (use ","position":{"start":{"line":77,"column":3,"offset":2607},"end":{"line":77,"column":28,"offset":2632},"indent":[]}},{"type":"inlineCode","value":"sudo","position":{"start":{"line":77,"column":28,"offset":2632},"end":{"line":77,"column":34,"offset":2638},"indent":[]}},{"type":"text","value":" for on-prem cluster):","position":{"start":{"line":77,"column":34,"offset":2638},"end":{"line":77,"column":56,"offset":2660},"indent":[]}}],"position":{"start":{"line":77,"column":3,"offset":2607},"end":{"line":77,"column":56,"offset":2660},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":2605},"end":{"line":77,"column":56,"offset":2660},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":2605},"end":{"line":77,"column":56,"offset":2660},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"./loadimages.sh -p ICP4A19.0.1-fncn.tgz -r <route-to-docker-service>","position":{"start":{"line":78,"column":1,"offset":2661},"end":{"line":80,"column":4,"offset":2737},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Create the database","position":{"start":{"line":82,"column":5,"offset":2743},"end":{"line":82,"column":24,"offset":2762},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":2739},"end":{"line":82,"column":24,"offset":2762},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Download ","position":{"start":{"line":84,"column":1,"offset":2764},"end":{"line":84,"column":10,"offset":2773},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/icn/db2/createICNDB.sh","children":[{"type":"inlineCode","value":"createICNDB.sh","position":{"start":{"line":84,"column":11,"offset":2774},"end":{"line":84,"column":27,"offset":2790},"indent":[]}}],"position":{"start":{"line":84,"column":10,"offset":2773},"end":{"line":84,"column":71,"offset":2834},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":84,"column":71,"offset":2834},"end":{"line":84,"column":73,"offset":2836},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/icn/db2/DB2_CREATE_SCRIPT.sql","children":[{"type":"inlineCode","value":"DB2_CREATE_SCRIPT.sql","position":{"start":{"line":84,"column":74,"offset":2837},"end":{"line":84,"column":97,"offset":2860},"indent":[]}}],"position":{"start":{"line":84,"column":73,"offset":2836},"end":{"line":84,"column":148,"offset":2911},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":84,"column":148,"offset":2911},"end":{"line":84,"column":153,"offset":2916},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/icn/db2/DB2_ONE_SCRIPT_ICNDB.sql","children":[{"type":"inlineCode","value":"DB2_ONE_SCRIPT_ICNDB.sql","position":{"start":{"line":84,"column":154,"offset":2917},"end":{"line":84,"column":180,"offset":2943},"indent":[]}}],"position":{"start":{"line":84,"column":153,"offset":2916},"end":{"line":84,"column":234,"offset":2997},"indent":[]}},{"type":"text","value":" to your working directory on the database server and run the following commands:","position":{"start":{"line":84,"column":234,"offset":2997},"end":{"line":84,"column":315,"offset":3078},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":2764},"end":{"line":84,"column":315,"offset":3078},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"## copy the db2 install script\nmkdir -p /data/db2fs\nmkdir -p /data/database/config\n\n## copy createICNDB.sh, DB2_CREATE_SCRIPT.sql and DB2_ONE_SCRIPT_ICNDB.sql files into folder /data/database/config\ncp createICNDB.sh DB2_CREATE_SCRIPT.sql DB2_ONE_SCRIPT_ICNDB.sql /data/database/config\n\nchown db2inst1:db2iadm1 /data/database/config\nchown db2inst1:db2iadm1 /data/database/config/*.sh\nchown db2inst1:db2iadm1 /data/database/config/*.sql\nchmod 755 /data/database/config/*.sh\n\nsu - db2inst1\ncd /data/database/config\n./createICNDB.sh -n ICNDB -s ICNSCHEMA -t ICNTS -u db2inst1 -a ceadmin\n\n## exit su mode\nexit","position":{"start":{"line":85,"column":1,"offset":3079},"end":{"line":104,"column":4,"offset":3692},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Set up the persistent volumes","position":{"start":{"line":106,"column":5,"offset":3698},"end":{"line":106,"column":34,"offset":3727},"indent":[]}}],"position":{"start":{"line":106,"column":1,"offset":3694},"end":{"line":106,"column":34,"offset":3727},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Run the following commands to create the required PV folders in NFS, where ","position":{"start":{"line":107,"column":1,"offset":3728},"end":{"line":107,"column":76,"offset":3803},"indent":[]}},{"type":"inlineCode","value":"/data/persistentvolumes/","position":{"start":{"line":107,"column":76,"offset":3803},"end":{"line":107,"column":102,"offset":3829},"indent":[]}},{"type":"text","value":" is the mounted directory of your NFS server:","position":{"start":{"line":107,"column":102,"offset":3829},"end":{"line":107,"column":147,"offset":3874},"indent":[]}}],"position":{"start":{"line":107,"column":1,"offset":3728},"end":{"line":107,"column":147,"offset":3874},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"mkdir -p /data/persistentvolumes/icn/configDropins/overrides\nmkdir -p /data/persistentvolumes/icn/logs\nmkdir -p /data/persistentvolumes/icn/plugins\nmkdir -p /data/persistentvolumes/icn/viewerlog\nmkdir -p /data/persistentvolumes/icn/viewercache\nmkdir -p /data/persistentvolumes/icn/aspera\n\nchown 50001:50000 /data/persistentvolumes/icn/configDropins/overrides\nchown 50001:50000 /data/persistentvolumes/icn/logs\nchown 50001:50000 /data/persistentvolumes/icn/plugins\nchown 50001:50000 /data/persistentvolumes/icn/viewerlog\nchown 50001:50000 /data/persistentvolumes/icn/viewercache\nchown 50001:50000 /data/persistentvolumes/icn/aspera","position":{"start":{"line":109,"column":1,"offset":3876},"end":{"line":123,"column":4,"offset":4514},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Obtain the DB2 drivers from your database server installation. Copy them to the PVs. If your database server is local the commands should look like this: ","position":{"start":{"line":125,"column":1,"offset":4516},"end":{"line":125,"column":155,"offset":4670},"indent":[]}}],"position":{"start":{"line":125,"column":1,"offset":4516},"end":{"line":125,"column":155,"offset":4670},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"cp /opt/ibm/db2/V11.1/java/db2jcc4.jar /data/persistentvolumes/icn/configDropins/overrides/\ncp /opt/ibm/db2/V11.1/java/db2jcc_license_cu.jar /data/persistentvolumes/icn/configDropins/overrides/","position":{"start":{"line":127,"column":1,"offset":4672},"end":{"line":130,"column":4,"offset":4873},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Download all the ICN overrides files to your working directory ","position":{"start":{"line":132,"column":1,"offset":4875},"end":{"line":132,"column":64,"offset":4938},"indent":[]}}],"position":{"start":{"line":132,"column":1,"offset":4875},"end":{"line":132,"column":64,"offset":4938},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/assets/automation/icn/configDropins/overrides/ICNDS.xml","children":[{"type":"inlineCode","value":"ICNDS.xml","position":{"start":{"line":133,"column":5,"offset":4943},"end":{"line":133,"column":16,"offset":4954},"indent":[]}}],"position":{"start":{"line":133,"column":4,"offset":4942},"end":{"line":133,"column":75,"offset":5013},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":133,"column":75,"offset":5013},"end":{"line":133,"column":76,"offset":5014},"indent":[]}}],"position":{"start":{"line":133,"column":4,"offset":4942},"end":{"line":133,"column":76,"offset":5014},"indent":[]}}],"position":{"start":{"line":133,"column":1,"offset":4939},"end":{"line":133,"column":76,"offset":5014},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/assets/automation/icn/configDropins/overrides/DB2JCCDriver.xml","children":[{"type":"inlineCode","value":"DB2JCCDriver.xml","position":{"start":{"line":134,"column":5,"offset":5019},"end":{"line":134,"column":23,"offset":5037},"indent":[]}}],"position":{"start":{"line":134,"column":4,"offset":5018},"end":{"line":134,"column":89,"offset":5103},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":134,"column":89,"offset":5103},"end":{"line":134,"column":90,"offset":5104},"indent":[]}}],"position":{"start":{"line":134,"column":4,"offset":5018},"end":{"line":134,"column":90,"offset":5104},"indent":[]}}],"position":{"start":{"line":134,"column":1,"offset":5015},"end":{"line":134,"column":90,"offset":5104},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/assets/automation/icn/configDropins/overrides/ldap_TDS.xml","children":[{"type":"inlineCode","value":"ldap_TDS.xml","position":{"start":{"line":135,"column":5,"offset":5109},"end":{"line":135,"column":19,"offset":5123},"indent":[]}}],"position":{"start":{"line":135,"column":4,"offset":5108},"end":{"line":135,"column":81,"offset":5185},"indent":[]}},{"type":"text","value":"  ","position":{"start":{"line":135,"column":81,"offset":5185},"end":{"line":135,"column":83,"offset":5187},"indent":[]}}],"position":{"start":{"line":135,"column":4,"offset":5108},"end":{"line":135,"column":83,"offset":5187},"indent":[]}}],"position":{"start":{"line":135,"column":1,"offset":5105},"end":{"line":135,"column":83,"offset":5187},"indent":[]}}],"position":{"start":{"line":133,"column":1,"offset":4939},"end":{"line":135,"column":83,"offset":5187},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you changed the database name in the database creation step above, you will also need to change it in ","position":{"start":{"line":137,"column":1,"offset":5189},"end":{"line":137,"column":106,"offset":5294},"indent":[]}},{"type":"inlineCode","value":"ICNDS.xml","position":{"start":{"line":137,"column":106,"offset":5294},"end":{"line":137,"column":117,"offset":5305},"indent":[]}},{"type":"text","value":" here  ","position":{"start":{"line":137,"column":117,"offset":5305},"end":{"line":137,"column":124,"offset":5312},"indent":[]}}],"position":{"start":{"line":137,"column":1,"offset":5189},"end":{"line":137,"column":124,"offset":5312},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Edit ","position":{"start":{"line":139,"column":1,"offset":5314},"end":{"line":139,"column":6,"offset":5319},"indent":[]}},{"type":"inlineCode","value":"ICNDS.xml","position":{"start":{"line":139,"column":6,"offset":5319},"end":{"line":139,"column":17,"offset":5330},"indent":[]}},{"type":"text","value":", replacing ","position":{"start":{"line":139,"column":17,"offset":5330},"end":{"line":139,"column":29,"offset":5342},"indent":[]}},{"type":"inlineCode","value":"<db-server-ip>","position":{"start":{"line":139,"column":29,"offset":5342},"end":{"line":139,"column":45,"offset":5358},"indent":[]}},{"type":"text","value":" with the IP address of the database server, and possibly the database name.","position":{"start":{"line":139,"column":45,"offset":5358},"end":{"line":139,"column":121,"offset":5434},"indent":[]}},{"type":"break","position":{"start":{"line":139,"column":121,"offset":5434},"end":{"line":140,"column":1,"offset":5437},"indent":[1]}},{"type":"inlineCode","value":"DB2JCCDriver.xml","position":{"start":{"line":140,"column":1,"offset":5437},"end":{"line":140,"column":19,"offset":5455},"indent":[]}},{"type":"text","value":" contains the locations of the ","position":{"start":{"line":140,"column":19,"offset":5455},"end":{"line":140,"column":50,"offset":5486},"indent":[]}},{"type":"inlineCode","value":"db2jcc4.jar","position":{"start":{"line":140,"column":50,"offset":5486},"end":{"line":140,"column":63,"offset":5499},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":140,"column":63,"offset":5499},"end":{"line":140,"column":68,"offset":5504},"indent":[]}},{"type":"inlineCode","value":"db2jcc_license_cu.jar","position":{"start":{"line":140,"column":68,"offset":5504},"end":{"line":140,"column":91,"offset":5527},"indent":[]}},{"type":"text","value":" files.","position":{"start":{"line":140,"column":91,"offset":5527},"end":{"line":140,"column":98,"offset":5534},"indent":[]}},{"type":"break","position":{"start":{"line":140,"column":98,"offset":5534},"end":{"line":141,"column":1,"offset":5537},"indent":[1]}},{"type":"text","value":"Edit ","position":{"start":{"line":141,"column":1,"offset":5537},"end":{"line":141,"column":6,"offset":5542},"indent":[]}},{"type":"inlineCode","value":"ldap_TDS.xml","position":{"start":{"line":141,"column":6,"offset":5542},"end":{"line":141,"column":20,"offset":5556},"indent":[]}},{"type":"text","value":", replacing ","position":{"start":{"line":141,"column":20,"offset":5556},"end":{"line":141,"column":32,"offset":5568},"indent":[]}},{"type":"inlineCode","value":"<ldap-server-ip>","position":{"start":{"line":141,"column":32,"offset":5568},"end":{"line":141,"column":50,"offset":5586},"indent":[]}},{"type":"text","value":" with the IP address of the LDAP server.  ","position":{"start":{"line":141,"column":50,"offset":5586},"end":{"line":141,"column":92,"offset":5628},"indent":[]}}],"position":{"start":{"line":139,"column":1,"offset":5314},"end":{"line":141,"column":92,"offset":5628},"indent":[1,1]}},{"type":"code","lang":null,"meta":null,"value":"cp DB2JCCDriver.xml /data/persistentvolumes/icn/configDropins/overrides/\ncp ICNDS.xml /data/persistentvolumes/icn/configDropins/overrides/\ncp ldap_TDS.xml /data/persistentvolumes/icn/configDropins/overrides/","position":{"start":{"line":143,"column":1,"offset":5630},"end":{"line":147,"column":4,"offset":5845},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Download the ","position":{"start":{"line":149,"column":1,"offset":5847},"end":{"line":149,"column":14,"offset":5860},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/icn/pv.yaml","children":[{"type":"inlineCode","value":"pv.yaml","position":{"start":{"line":149,"column":15,"offset":5861},"end":{"line":149,"column":24,"offset":5870},"indent":[]}}],"position":{"start":{"line":149,"column":14,"offset":5860},"end":{"line":149,"column":57,"offset":5903},"indent":[]}},{"type":"text","value":" configuration file to your working directory.","position":{"start":{"line":149,"column":57,"offset":5903},"end":{"line":149,"column":103,"offset":5949},"indent":[]}}],"position":{"start":{"line":149,"column":1,"offset":5847},"end":{"line":149,"column":103,"offset":5949},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Replace the placeholder ","position":{"start":{"line":151,"column":1,"offset":5951},"end":{"line":151,"column":25,"offset":5975},"indent":[]}},{"type":"inlineCode","value":"<ip-address>","position":{"start":{"line":151,"column":25,"offset":5975},"end":{"line":151,"column":39,"offset":5989},"indent":[]}},{"type":"text","value":" placeholder with the IP address of NFS server and adjust the persistent volume path if needed.","position":{"start":{"line":151,"column":39,"offset":5989},"end":{"line":151,"column":134,"offset":6084},"indent":[]}}],"position":{"start":{"line":151,"column":1,"offset":5951},"end":{"line":151,"column":134,"offset":6084},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Run the following command to create the PVs:","position":{"start":{"line":153,"column":1,"offset":6086},"end":{"line":153,"column":45,"offset":6130},"indent":[]}}],"position":{"start":{"line":153,"column":1,"offset":6086},"end":{"line":153,"column":45,"offset":6130},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc apply -f pv.yaml","position":{"start":{"line":155,"column":1,"offset":6132},"end":{"line":157,"column":4,"offset":6159},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Create secrets","position":{"start":{"line":159,"column":5,"offset":6165},"end":{"line":159,"column":19,"offset":6179},"indent":[]}}],"position":{"start":{"line":159,"column":1,"offset":6161},"end":{"line":159,"column":19,"offset":6179},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The Helm chart requires a secret in order to pull images from docker. You might need to change the address of the docker server.","position":{"start":{"line":160,"column":1,"offset":6180},"end":{"line":160,"column":129,"offset":6308},"indent":[]}}],"position":{"start":{"line":160,"column":1,"offset":6180},"end":{"line":160,"column":129,"offset":6308},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc create secret docker-registry admin.registrykey --docker-server=docker-registry.default.svc:5000 --docker-username=$(oc whoami) --docker-password=$(oc whoami -t) -n fncnproject","position":{"start":{"line":162,"column":1,"offset":6310},"end":{"line":164,"column":4,"offset":6497},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Note that you cannot add the same secret more than once. If you need to delete a secret in order to create a new one, use the following command:  ","position":{"start":{"line":166,"column":1,"offset":6499},"end":{"line":166,"column":147,"offset":6645},"indent":[]}}],"position":{"start":{"line":166,"column":1,"offset":6499},"end":{"line":166,"column":147,"offset":6645},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc delete secret admin.registrykey -n fncnproject","position":{"start":{"line":167,"column":1,"offset":6646},"end":{"line":169,"column":4,"offset":6703},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Install the ICN components","position":{"start":{"line":171,"column":5,"offset":6709},"end":{"line":171,"column":31,"offset":6735},"indent":[]}}],"position":{"start":{"line":171,"column":1,"offset":6705},"end":{"line":171,"column":31,"offset":6735},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Download the ","position":{"start":{"line":172,"column":3,"offset":6738},"end":{"line":172,"column":16,"offset":6751},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/icn/values.yaml","children":[{"type":"inlineCode","value":"values.yaml","position":{"start":{"line":172,"column":17,"offset":6752},"end":{"line":172,"column":30,"offset":6765},"indent":[]}}],"position":{"start":{"line":172,"column":16,"offset":6751},"end":{"line":172,"column":67,"offset":6802},"indent":[]}},{"type":"text","value":" file to your working directory.","position":{"start":{"line":172,"column":67,"offset":6802},"end":{"line":172,"column":99,"offset":6834},"indent":[]}}],"position":{"start":{"line":172,"column":3,"offset":6738},"end":{"line":172,"column":99,"offset":6834},"indent":[]}}],"position":{"start":{"line":172,"column":1,"offset":6736},"end":{"line":173,"column":1,"offset":6835},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Download the Helm charts to your working directory:","position":{"start":{"line":174,"column":3,"offset":6838},"end":{"line":174,"column":54,"offset":6889},"indent":[]}}],"position":{"start":{"line":174,"column":3,"offset":6838},"end":{"line":174,"column":54,"offset":6889},"indent":[]}}],"position":{"start":{"line":174,"column":1,"offset":6836},"end":{"line":174,"column":54,"offset":6889},"indent":[]}}],"position":{"start":{"line":172,"column":1,"offset":6736},"end":{"line":174,"column":54,"offset":6889},"indent":[1,1]}},{"type":"code","lang":null,"meta":null,"value":"wget https://github.com/icp4a/cert-kubernetes/raw/master/NAVIGATOR/helm-charts/ibm-dba-navigator-3.0.0.tgz","position":{"start":{"line":175,"column":1,"offset":6890},"end":{"line":177,"column":4,"offset":7004},"indent":[1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Install the Helm charts:","position":{"start":{"line":179,"column":3,"offset":7008},"end":{"line":179,"column":27,"offset":7032},"indent":[]}}],"position":{"start":{"line":179,"column":3,"offset":7008},"end":{"line":179,"column":27,"offset":7032},"indent":[]}}],"position":{"start":{"line":179,"column":1,"offset":7006},"end":{"line":179,"column":27,"offset":7032},"indent":[]}}],"position":{"start":{"line":179,"column":1,"offset":7006},"end":{"line":179,"column":27,"offset":7032},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"helm install ibm-dba-navigator-3.0.0.tgz --name navigator-prod-release --namespace fncnproject -f values.yaml","position":{"start":{"line":180,"column":1,"offset":7033},"end":{"line":182,"column":4,"offset":7150},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Expose the ICN console service","position":{"start":{"line":184,"column":5,"offset":7156},"end":{"line":184,"column":35,"offset":7186},"indent":[]}}],"position":{"start":{"line":184,"column":1,"offset":7152},"end":{"line":184,"column":35,"offset":7186},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Download the ","position":{"start":{"line":185,"column":1,"offset":7187},"end":{"line":185,"column":14,"offset":7200},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/icn/route.yaml","children":[{"type":"inlineCode","value":"route.yaml","position":{"start":{"line":185,"column":15,"offset":7201},"end":{"line":185,"column":27,"offset":7213},"indent":[]}}],"position":{"start":{"line":185,"column":14,"offset":7200},"end":{"line":185,"column":63,"offset":7249},"indent":[]}},{"type":"text","value":" file to your working directory and run the command:","position":{"start":{"line":185,"column":63,"offset":7249},"end":{"line":185,"column":115,"offset":7301},"indent":[]}}],"position":{"start":{"line":185,"column":1,"offset":7187},"end":{"line":185,"column":115,"offset":7301},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc apply -f route.yaml","position":{"start":{"line":186,"column":1,"offset":7302},"end":{"line":188,"column":4,"offset":7332},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"To retrieve the ICN console service URL, open the ","position":{"start":{"line":189,"column":1,"offset":7333},"end":{"line":189,"column":51,"offset":7383},"indent":[]}},{"type":"inlineCode","value":"services","position":{"start":{"line":189,"column":51,"offset":7383},"end":{"line":189,"column":61,"offset":7393},"indent":[]}},{"type":"text","value":" section on the OCP cluster console, select the desired ICN service, and go to the detail page to find the URL.","position":{"start":{"line":189,"column":61,"offset":7393},"end":{"line":189,"column":172,"offset":7504},"indent":[]}}],"position":{"start":{"line":189,"column":1,"offset":7333},"end":{"line":189,"column":172,"offset":7504},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc get route -n openshift-console\n","position":{"start":{"line":191,"column":1,"offset":7506},"end":{"line":194,"column":4,"offset":7548},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"which will return something like this:","position":{"start":{"line":196,"column":1,"offset":7550},"end":{"line":196,"column":39,"offset":7588},"indent":[]}}],"position":{"start":{"line":196,"column":1,"offset":7550},"end":{"line":196,"column":39,"offset":7588},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"NAME      HOST/PORT                                   PATH      SERVICES   PORT      TERMINATION          WILDCARD\nconsole   console.apps-cp4a-res.rtp.raleigh.ibm.com             console    https     reencrypt/Redirect   None","position":{"start":{"line":198,"column":1,"offset":7590},"end":{"line":201,"column":4,"offset":7823},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Open the Host/Port in a browser. Select the ecmproject. On the left, select Networking, and the routes. This will give you the base URL for ICN. Append ","position":{"start":{"line":203,"column":1,"offset":7825},"end":{"line":203,"column":153,"offset":7977},"indent":[]}},{"type":"inlineCode","value":"/navigator","position":{"start":{"line":203,"column":153,"offset":7977},"end":{"line":203,"column":165,"offset":7989},"indent":[]}},{"type":"text","value":" to that URL. That should take you to the ICN page. The username is ","position":{"start":{"line":203,"column":165,"offset":7989},"end":{"line":203,"column":233,"offset":8057},"indent":[]}},{"type":"inlineCode","value":"ceadmin","position":{"start":{"line":203,"column":233,"offset":8057},"end":{"line":203,"column":242,"offset":8066},"indent":[]}},{"type":"text","value":" and the password is ","position":{"start":{"line":203,"column":242,"offset":8066},"end":{"line":203,"column":263,"offset":8087},"indent":[]}},{"type":"inlineCode","value":"Passw0rd","position":{"start":{"line":203,"column":263,"offset":8087},"end":{"line":203,"column":273,"offset":8097},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":203,"column":273,"offset":8097},"end":{"line":203,"column":274,"offset":8098},"indent":[]}}],"position":{"start":{"line":203,"column":1,"offset":7825},"end":{"line":203,"column":274,"offset":8098},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Post-install tasks","position":{"start":{"line":206,"column":5,"offset":8105},"end":{"line":206,"column":23,"offset":8123},"indent":[]}}],"position":{"start":{"line":206,"column":1,"offset":8101},"end":{"line":206,"column":23,"offset":8123},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"See the following step to complete the installation:","position":{"start":{"line":208,"column":1,"offset":8125},"end":{"line":208,"column":53,"offset":8177},"indent":[]}}],"position":{"start":{"line":208,"column":1,"offset":8125},"end":{"line":208,"column":53,"offset":8177},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.ibm.com/support/knowledgecenter/en/SSYHZ8_18.0.x/com.ibm.dba.install/k8s_topics/tsk_ecmconfigbank8s.html","children":[{"type":"text","value":"Configuring IBM Business Automation Navigator in a container environment","position":{"start":{"line":209,"column":4,"offset":8181},"end":{"line":209,"column":76,"offset":8253},"indent":[]}}],"position":{"start":{"line":209,"column":3,"offset":8180},"end":{"line":209,"column":195,"offset":8372},"indent":[]}}],"position":{"start":{"line":209,"column":3,"offset":8180},"end":{"line":209,"column":195,"offset":8372},"indent":[]}}],"position":{"start":{"line":209,"column":1,"offset":8178},"end":{"line":209,"column":195,"offset":8372},"indent":[]}}],"position":{"start":{"line":209,"column":1,"offset":8178},"end":{"line":209,"column":195,"offset":8372},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Initialize your Navigator installation","position":{"start":{"line":211,"column":5,"offset":8378},"end":{"line":211,"column":43,"offset":8416},"indent":[]}}],"position":{"start":{"line":211,"column":1,"offset":8374},"end":{"line":211,"column":43,"offset":8416},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Login to Navigator. Go to ","position":{"start":{"line":212,"column":1,"offset":8417},"end":{"line":212,"column":27,"offset":8443},"indent":[]}},{"type":"inlineCode","value":"Administration","position":{"start":{"line":212,"column":27,"offset":8443},"end":{"line":212,"column":43,"offset":8459},"indent":[]}},{"type":"text","value":" panel from the ","position":{"start":{"line":212,"column":43,"offset":8459},"end":{"line":212,"column":59,"offset":8475},"indent":[]}},{"type":"inlineCode","value":"Main Menu","position":{"start":{"line":212,"column":59,"offset":8475},"end":{"line":212,"column":70,"offset":8486},"indent":[]}},{"type":"text","value":". Click on ","position":{"start":{"line":212,"column":70,"offset":8486},"end":{"line":212,"column":81,"offset":8497},"indent":[]}},{"type":"inlineCode","value":"Connections","position":{"start":{"line":212,"column":81,"offset":8497},"end":{"line":212,"column":94,"offset":8510},"indent":[]}},{"type":"text","value":" then select the ","position":{"start":{"line":212,"column":94,"offset":8510},"end":{"line":212,"column":111,"offset":8527},"indent":[]}},{"type":"inlineCode","value":"Repositories","position":{"start":{"line":212,"column":111,"offset":8527},"end":{"line":212,"column":125,"offset":8541},"indent":[]}},{"type":"text","value":" tab.","position":{"start":{"line":212,"column":125,"offset":8541},"end":{"line":212,"column":130,"offset":8546},"indent":[]}}],"position":{"start":{"line":212,"column":1,"offset":8417},"end":{"line":212,"column":130,"offset":8546},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Create a repository: ","position":{"start":{"line":214,"column":1,"offset":8548},"end":{"line":214,"column":22,"offset":8569},"indent":[]}}],"position":{"start":{"line":214,"column":1,"offset":8548},"end":{"line":214,"column":22,"offset":8569},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Choose ","position":{"start":{"line":215,"column":4,"offset":8573},"end":{"line":215,"column":11,"offset":8580},"indent":[]}},{"type":"inlineCode","value":"FileNet Content Manager repository","position":{"start":{"line":215,"column":11,"offset":8580},"end":{"line":215,"column":47,"offset":8616},"indent":[]}},{"type":"text","value":" as type. ","position":{"start":{"line":215,"column":47,"offset":8616},"end":{"line":215,"column":57,"offset":8626},"indent":[]}}],"position":{"start":{"line":215,"column":4,"offset":8573},"end":{"line":215,"column":57,"offset":8626},"indent":[]}}],"position":{"start":{"line":215,"column":1,"offset":8570},"end":{"line":215,"column":57,"offset":8626},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The server URL must be your CPE service URL + ","position":{"start":{"line":216,"column":4,"offset":8630},"end":{"line":216,"column":50,"offset":8676},"indent":[]}},{"type":"inlineCode","value":"/wsi/FNCEWS40MTOM/","position":{"start":{"line":216,"column":50,"offset":8676},"end":{"line":216,"column":70,"offset":8696},"indent":[]}},{"type":"text","value":". This should look like: ","position":{"start":{"line":216,"column":70,"offset":8696},"end":{"line":216,"column":95,"offset":8721},"indent":[]}},{"type":"inlineCode","value":"https://cpe-prod-release-ibm-dba-contentservices-https-ecmproject.router.default.svc.cluster.local/wsi/FNCEWS40MTOM/","position":{"start":{"line":216,"column":95,"offset":8721},"end":{"line":216,"column":213,"offset":8839},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":216,"column":213,"offset":8839},"end":{"line":216,"column":214,"offset":8840},"indent":[]}}],"position":{"start":{"line":216,"column":4,"offset":8630},"end":{"line":216,"column":214,"offset":8840},"indent":[]}}],"position":{"start":{"line":216,"column":1,"offset":8627},"end":{"line":216,"column":214,"offset":8840},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"In the ","position":{"start":{"line":217,"column":4,"offset":8844},"end":{"line":217,"column":11,"offset":8851},"indent":[]}},{"type":"inlineCode","value":"Configuration Parameters","position":{"start":{"line":217,"column":11,"offset":8851},"end":{"line":217,"column":37,"offset":8877},"indent":[]}},{"type":"text","value":" tab, set the ","position":{"start":{"line":217,"column":37,"offset":8877},"end":{"line":217,"column":51,"offset":8891},"indent":[]}},{"type":"inlineCode","value":"Entry template management","position":{"start":{"line":217,"column":51,"offset":8891},"end":{"line":217,"column":78,"offset":8918},"indent":[]}},{"type":"text","value":" value to ","position":{"start":{"line":217,"column":78,"offset":8918},"end":{"line":217,"column":88,"offset":8928},"indent":[]}},{"type":"inlineCode","value":"Enabled","position":{"start":{"line":217,"column":88,"offset":8928},"end":{"line":217,"column":97,"offset":8937},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":217,"column":97,"offset":8937},"end":{"line":217,"column":98,"offset":8938},"indent":[]}}],"position":{"start":{"line":217,"column":4,"offset":8844},"end":{"line":217,"column":98,"offset":8938},"indent":[]}}],"position":{"start":{"line":217,"column":1,"offset":8841},"end":{"line":218,"column":2,"offset":8940},"indent":[1]}}],"position":{"start":{"line":215,"column":1,"offset":8570},"end":{"line":218,"column":2,"offset":8940},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Create a ","position":{"start":{"line":219,"column":1,"offset":8941},"end":{"line":219,"column":10,"offset":8950},"indent":[]}},{"type":"inlineCode","value":"Desktop","position":{"start":{"line":219,"column":10,"offset":8950},"end":{"line":219,"column":19,"offset":8959},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":219,"column":19,"offset":8959},"end":{"line":219,"column":20,"offset":8960},"indent":[]}}],"position":{"start":{"line":219,"column":1,"offset":8941},"end":{"line":219,"column":20,"offset":8960},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Uninstall","position":{"start":{"line":221,"column":5,"offset":8966},"end":{"line":221,"column":14,"offset":8975},"indent":[]}}],"position":{"start":{"line":221,"column":1,"offset":8962},"end":{"line":221,"column":14,"offset":8975},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If needed, run the following steps to uninstall ICN:","position":{"start":{"line":222,"column":1,"offset":8976},"end":{"line":222,"column":53,"offset":9028},"indent":[]}}],"position":{"start":{"line":222,"column":1,"offset":8976},"end":{"line":222,"column":53,"offset":9028},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"helm delete navigator-prod-release --purge \noc delete -f route.yaml\noc delete secret admin.registrykey -n fncnproject","position":{"start":{"line":223,"column":1,"offset":9029},"end":{"line":227,"column":4,"offset":9154},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"To optionally delete the PVs","position":{"start":{"line":229,"column":1,"offset":9156},"end":{"line":229,"column":29,"offset":9184},"indent":[]}}],"position":{"start":{"line":229,"column":1,"offset":9156},"end":{"line":229,"column":29,"offset":9184},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc delete pvc icn-asperastore-pvc\noc delete pvc icn-cfgstore-pvc\noc delete pvc icn-logstore-pvc\noc delete pvc icn-pluginstore-pvc\noc delete pvc icn-vw-cachestore-pvc\noc delete pvc icn-vw-logstore-pvc\n\noc delete -f pv.yaml","position":{"start":{"line":230,"column":1,"offset":9185},"end":{"line":239,"column":4,"offset":9414},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Ask your database administrator to remove the databases associated with ICN.","position":{"start":{"line":241,"column":1,"offset":9416},"end":{"line":241,"column":77,"offset":9492},"indent":[]}}],"position":{"start":{"line":241,"column":1,"offset":9416},"end":{"line":241,"column":77,"offset":9492},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Troubleshooting","position":{"start":{"line":243,"column":5,"offset":9498},"end":{"line":243,"column":20,"offset":9513},"indent":[]}}],"position":{"start":{"line":243,"column":1,"offset":9494},"end":{"line":243,"column":20,"offset":9513},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Check the pods for the ecmproject. This will show the overall health.","position":{"start":{"line":245,"column":1,"offset":9515},"end":{"line":245,"column":70,"offset":9584},"indent":[]}}],"position":{"start":{"line":245,"column":1,"offset":9515},"end":{"line":245,"column":70,"offset":9584},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc get pods -n fncnproject","position":{"start":{"line":247,"column":1,"offset":9586},"end":{"line":249,"column":4,"offset":9620},"indent":[1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Check for errors in the ","position":{"start":{"line":251,"column":4,"offset":9625},"end":{"line":251,"column":28,"offset":9649},"indent":[]}},{"type":"inlineCode","value":"./loadimages.sh","position":{"start":{"line":251,"column":28,"offset":9649},"end":{"line":251,"column":45,"offset":9666},"indent":[]}},{"type":"text","value":" step earlier.  ","position":{"start":{"line":251,"column":45,"offset":9666},"end":{"line":251,"column":61,"offset":9682},"indent":[]}}],"position":{"start":{"line":251,"column":4,"offset":9625},"end":{"line":251,"column":61,"offset":9682},"indent":[]}}],"position":{"start":{"line":251,"column":1,"offset":9622},"end":{"line":251,"column":61,"offset":9682},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The registry might have run out of room. ","position":{"start":{"line":252,"column":4,"offset":9686},"end":{"line":252,"column":45,"offset":9727},"indent":[]}}],"position":{"start":{"line":252,"column":4,"offset":9686},"end":{"line":252,"column":45,"offset":9727},"indent":[]}}],"position":{"start":{"line":252,"column":1,"offset":9683},"end":{"line":252,"column":45,"offset":9727},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Verify you're pushing/pulling to/from the right registry in the docker console.","position":{"start":{"line":253,"column":4,"offset":9731},"end":{"line":253,"column":83,"offset":9810},"indent":[]}}],"position":{"start":{"line":253,"column":4,"offset":9731},"end":{"line":253,"column":83,"offset":9810},"indent":[]}}],"position":{"start":{"line":253,"column":1,"offset":9728},"end":{"line":253,"column":83,"offset":9810},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Verify Secret is not preventing you from pulling images. ","position":{"start":{"line":254,"column":4,"offset":9814},"end":{"line":254,"column":61,"offset":9871},"indent":[]}}],"position":{"start":{"line":254,"column":4,"offset":9814},"end":{"line":254,"column":61,"offset":9871},"indent":[]}}],"position":{"start":{"line":254,"column":1,"offset":9811},"end":{"line":254,"column":61,"offset":9871},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Infrastructure might have evicted the registry pod.","position":{"start":{"line":255,"column":4,"offset":9875},"end":{"line":255,"column":55,"offset":9926},"indent":[]}}],"position":{"start":{"line":255,"column":4,"offset":9875},"end":{"line":255,"column":55,"offset":9926},"indent":[]}}],"position":{"start":{"line":255,"column":1,"offset":9872},"end":{"line":256,"column":2,"offset":9928},"indent":[1]}}],"position":{"start":{"line":251,"column":1,"offset":9622},"end":{"line":256,"column":2,"offset":9928},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Verify both images were uploaded and are available to your project workspace.","position":{"start":{"line":257,"column":1,"offset":9929},"end":{"line":257,"column":78,"offset":10006},"indent":[]}}],"position":{"start":{"line":257,"column":1,"offset":9929},"end":{"line":257,"column":78,"offset":10006},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc get imagestreams -n fncnproject","position":{"start":{"line":259,"column":1,"offset":10008},"end":{"line":261,"column":4,"offset":10050},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Run oc describe pod to gain insight into what's going on","position":{"start":{"line":263,"column":1,"offset":10052},"end":{"line":263,"column":57,"offset":10108},"indent":[]}}],"position":{"start":{"line":263,"column":1,"offset":10052},"end":{"line":263,"column":57,"offset":10108},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc describe pod <pod name> -n fncnproject\n","position":{"start":{"line":264,"column":1,"offset":10109},"end":{"line":267,"column":4,"offset":10159},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Run oc logs to view the pod's log files","position":{"start":{"line":269,"column":1,"offset":10161},"end":{"line":269,"column":40,"offset":10200},"indent":[]}}],"position":{"start":{"line":269,"column":1,"offset":10161},"end":{"line":269,"column":40,"offset":10200},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc logs <pod name> -n fncnproject\n","position":{"start":{"line":270,"column":1,"offset":10201},"end":{"line":273,"column":4,"offset":10243},"indent":[1,1,1]}},{"type":"export","value":"export const _frontmatter = {}","position":{"start":{"line":279,"column":1,"offset":10249},"end":{"line":279,"column":31,"offset":10279},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":279,"column":31,"offset":10279}}},"scopeImports":[],"scopeIdentifiers":[],"rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport DefaultLayout from \"/Users/davethiessen/github/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\"\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <ul>\n      <li parentName=\"ul\"></li>\n    </ul>\n    <h1>{`make sure there is a space after the - so that the TOC is generated`}</h1>\n    <p>{`{:toc}`}</p>\n    <p><strong parentName=\"p\">{`(19.0.3 UPDATE NEEDED)`}</strong></p>\n    <h3>{`Required services`}</h3>\n    <p>{`Before installing IBM Business Automation Navigator (ICN), you should have the following pre-requisites in place:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Have privileged access to your DB2 database server. `}</li>\n      <li parentName=\"ul\">{`Optionally, have access to your LDAP directory server.`}</li>\n    </ul>\n    <p>{`See the `}<a parentName=\"p\" {...{\n        \"href\": \"/content/automation/shared-services\"\n      }}>{`Shared services`}</a>{` chapter for details on DB2 or LDAP installation, if needed.`}</p>\n    <h3>{`Log in to you OCP cluster`}</h3>\n    <p>{`See the `}<a parentName=\"p\" {...{\n        \"href\": \"/content/automation/pre-requisites\"\n      }}>{`Prerequisites`}</a>{` chapter for details on logging in to your OCP cluster.`}</p>\n    <h3>{`Download the ICN PPA`}</h3>\n    <p>{`Download the following PPA from `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.ibm.com/software/passportadvantage\"\n      }}>{`IBM Passport Advantage`}</a>{` to your working-directory:`}</p>\n    <ul>\n      <li parentName=\"ul\"><em parentName=\"li\">{`IBM Cloud Pak for Automation v19.0.1 - Content Navigator for Certified Kubernetes Multiplatform Multilingual (CC221ML)`}</em></li>\n    </ul>\n    <p>{`The downloaded archive should be named `}<inlineCode parentName=\"p\">{`ICP4A19.0.1-fncn.tgz`}</inlineCode>{`.`}</p>\n    <h3>{`Create the ICN project`}</h3>\n    <p>{`Create a new OpenShift project for ICN with your desired name, e.g. `}<inlineCode parentName=\"p\">{`fncnproject`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc new-project fncnproject\n`}</code></pre>\n    <p>{`Make sure you are working from  your newly created ICN project, then grant the tiller server `}<inlineCode parentName=\"p\">{`edit`}</inlineCode>{` access to current project:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc project fncnproject\noc adm policy add-role-to-user edit \"system:serviceaccount:tiller:tiller\"\n`}</code></pre>\n    <h3>{`Update the SCC`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`oc adm policy add-scc-to-user privileged -z default\n\noc edit namespace fncnproject\n`}</code></pre>\n    <p>{`While in the editor change these lines:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`openshift.io/sa.scc.supplemental-groups: 1000330000/10000`}</li>\n      <li parentName=\"ul\">{`openshift.io/sa.scc.uid-range: 1000330000/10000  `}</li>\n    </ul>\n    <p>{`To look like this:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`openshift.io/sa.scc.supplemental-groups: 50000`}</li>\n      <li parentName=\"ul\">{`openshift.io/sa.scc.uid-range: 50001`}</li>\n    </ul>\n    <p>{`You may get the following error if the SCC is not applied properly:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`forbidden: unable to validate against any security context constraint: [fsGroup: Invalid value: []int64{50000}: 50000 is not an allowed group\n`}</code></pre>\n    <h3>{`Push the FNCN images to the registry`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Get the route to the docker service as described in the `}<a parentName=\"li\" {...{\n          \"href\": \"/content/automation/pre-requisites\"\n        }}>{`Pre-requisites`}</a>{` chapter, then login to your Docker registry:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`docker login -u $(oc whoami) -p $(oc whoami -t) <route-to-docker-service>\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Download the `}<inlineCode parentName=\"li\">{`loadimages.sh`}</inlineCode>{` script from the `}<inlineCode parentName=\"li\">{`icp4a`}</inlineCode>{` GitHub repo to your working directory:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`wget https://raw.githubusercontent.com/icp4a/cert-kubernetes/19.0.1/scripts/loadimages.sh\nchmod +x loadimages.sh\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Load the ICN images (use `}<inlineCode parentName=\"li\">{`sudo`}</inlineCode>{` for on-prem cluster):`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`./loadimages.sh -p ICP4A19.0.1-fncn.tgz -r <route-to-docker-service>\n`}</code></pre>\n    <h3>{`Create the database`}</h3>\n    <p>{`Download `}<a parentName=\"p\" {...{\n        \"href\": \"/assets/automation/icn/db2/createICNDB.sh\"\n      }}><inlineCode parentName=\"a\">{`createICNDB.sh`}</inlineCode></a>{`, `}<a parentName=\"p\" {...{\n        \"href\": \"/assets/automation/icn/db2/DB2_CREATE_SCRIPT.sql\"\n      }}><inlineCode parentName=\"a\">{`DB2_CREATE_SCRIPT.sql`}</inlineCode></a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"/assets/automation/icn/db2/DB2_ONE_SCRIPT_ICNDB.sql\"\n      }}><inlineCode parentName=\"a\">{`DB2_ONE_SCRIPT_ICNDB.sql`}</inlineCode></a>{` to your working directory on the database server and run the following commands:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`## copy the db2 install script\nmkdir -p /data/db2fs\nmkdir -p /data/database/config\n\n## copy createICNDB.sh, DB2_CREATE_SCRIPT.sql and DB2_ONE_SCRIPT_ICNDB.sql files into folder /data/database/config\ncp createICNDB.sh DB2_CREATE_SCRIPT.sql DB2_ONE_SCRIPT_ICNDB.sql /data/database/config\n\nchown db2inst1:db2iadm1 /data/database/config\nchown db2inst1:db2iadm1 /data/database/config/*.sh\nchown db2inst1:db2iadm1 /data/database/config/*.sql\nchmod 755 /data/database/config/*.sh\n\nsu - db2inst1\ncd /data/database/config\n./createICNDB.sh -n ICNDB -s ICNSCHEMA -t ICNTS -u db2inst1 -a ceadmin\n\n## exit su mode\nexit\n`}</code></pre>\n    <h3>{`Set up the persistent volumes`}</h3>\n    <p>{`Run the following commands to create the required PV folders in NFS, where `}<inlineCode parentName=\"p\">{`/data/persistentvolumes/`}</inlineCode>{` is the mounted directory of your NFS server:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`mkdir -p /data/persistentvolumes/icn/configDropins/overrides\nmkdir -p /data/persistentvolumes/icn/logs\nmkdir -p /data/persistentvolumes/icn/plugins\nmkdir -p /data/persistentvolumes/icn/viewerlog\nmkdir -p /data/persistentvolumes/icn/viewercache\nmkdir -p /data/persistentvolumes/icn/aspera\n\nchown 50001:50000 /data/persistentvolumes/icn/configDropins/overrides\nchown 50001:50000 /data/persistentvolumes/icn/logs\nchown 50001:50000 /data/persistentvolumes/icn/plugins\nchown 50001:50000 /data/persistentvolumes/icn/viewerlog\nchown 50001:50000 /data/persistentvolumes/icn/viewercache\nchown 50001:50000 /data/persistentvolumes/icn/aspera\n`}</code></pre>\n    <p>{`Obtain the DB2 drivers from your database server installation. Copy them to the PVs. If your database server is local the commands should look like this: `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`cp /opt/ibm/db2/V11.1/java/db2jcc4.jar /data/persistentvolumes/icn/configDropins/overrides/\ncp /opt/ibm/db2/V11.1/java/db2jcc_license_cu.jar /data/persistentvolumes/icn/configDropins/overrides/\n`}</code></pre>\n    <p>{`Download all the ICN overrides files to your working directory `}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/icn/configDropins/overrides/ICNDS.xml\"\n        }}><inlineCode parentName=\"a\">{`ICNDS.xml`}</inlineCode></a>{` `}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/icn/configDropins/overrides/DB2JCCDriver.xml\"\n        }}><inlineCode parentName=\"a\">{`DB2JCCDriver.xml`}</inlineCode></a>{` `}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/icn/configDropins/overrides/ldap_TDS.xml\"\n        }}><inlineCode parentName=\"a\">{`ldap_TDS.xml`}</inlineCode></a>{`  `}</li>\n    </ul>\n    <p>{`If you changed the database name in the database creation step above, you will also need to change it in `}<inlineCode parentName=\"p\">{`ICNDS.xml`}</inlineCode>{` here  `}</p>\n    <p>{`Edit `}<inlineCode parentName=\"p\">{`ICNDS.xml`}</inlineCode>{`, replacing `}<inlineCode parentName=\"p\">{`<db-server-ip>`}</inlineCode>{` with the IP address of the database server, and possibly the database name.`}<br parentName=\"p\"></br>{`\n`}<inlineCode parentName=\"p\">{`DB2JCCDriver.xml`}</inlineCode>{` contains the locations of the `}<inlineCode parentName=\"p\">{`db2jcc4.jar`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`db2jcc_license_cu.jar`}</inlineCode>{` files.`}<br parentName=\"p\"></br>{`\n`}{`Edit `}<inlineCode parentName=\"p\">{`ldap_TDS.xml`}</inlineCode>{`, replacing `}<inlineCode parentName=\"p\">{`<ldap-server-ip>`}</inlineCode>{` with the IP address of the LDAP server.  `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`cp DB2JCCDriver.xml /data/persistentvolumes/icn/configDropins/overrides/\ncp ICNDS.xml /data/persistentvolumes/icn/configDropins/overrides/\ncp ldap_TDS.xml /data/persistentvolumes/icn/configDropins/overrides/\n`}</code></pre>\n    <p>{`Download the `}<a parentName=\"p\" {...{\n        \"href\": \"/assets/automation/icn/pv.yaml\"\n      }}><inlineCode parentName=\"a\">{`pv.yaml`}</inlineCode></a>{` configuration file to your working directory.`}</p>\n    <p>{`Replace the placeholder `}<inlineCode parentName=\"p\">{`<ip-address>`}</inlineCode>{` placeholder with the IP address of NFS server and adjust the persistent volume path if needed.`}</p>\n    <p>{`Run the following command to create the PVs:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc apply -f pv.yaml\n`}</code></pre>\n    <h3>{`Create secrets`}</h3>\n    <p>{`The Helm chart requires a secret in order to pull images from docker. You might need to change the address of the docker server.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc create secret docker-registry admin.registrykey --docker-server=docker-registry.default.svc:5000 --docker-username=$(oc whoami) --docker-password=$(oc whoami -t) -n fncnproject\n`}</code></pre>\n    <p>{`Note that you cannot add the same secret more than once. If you need to delete a secret in order to create a new one, use the following command:  `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc delete secret admin.registrykey -n fncnproject\n`}</code></pre>\n    <h3>{`Install the ICN components`}</h3>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Download the `}<a parentName=\"p\" {...{\n            \"href\": \"/assets/automation/icn/values.yaml\"\n          }}><inlineCode parentName=\"a\">{`values.yaml`}</inlineCode></a>{` file to your working directory.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Download the Helm charts to your working directory:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`wget https://github.com/icp4a/cert-kubernetes/raw/master/NAVIGATOR/helm-charts/ibm-dba-navigator-3.0.0.tgz\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Install the Helm charts:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`helm install ibm-dba-navigator-3.0.0.tgz --name navigator-prod-release --namespace fncnproject -f values.yaml\n`}</code></pre>\n    <h3>{`Expose the ICN console service`}</h3>\n    <p>{`Download the `}<a parentName=\"p\" {...{\n        \"href\": \"/assets/automation/icn/route.yaml\"\n      }}><inlineCode parentName=\"a\">{`route.yaml`}</inlineCode></a>{` file to your working directory and run the command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc apply -f route.yaml\n`}</code></pre>\n    <p>{`To retrieve the ICN console service URL, open the `}<inlineCode parentName=\"p\">{`services`}</inlineCode>{` section on the OCP cluster console, select the desired ICN service, and go to the detail page to find the URL.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc get route -n openshift-console\n\n`}</code></pre>\n    <p>{`which will return something like this:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`NAME      HOST/PORT                                   PATH      SERVICES   PORT      TERMINATION          WILDCARD\nconsole   console.apps-cp4a-res.rtp.raleigh.ibm.com             console    https     reencrypt/Redirect   None\n`}</code></pre>\n    <p>{`Open the Host/Port in a browser. Select the ecmproject. On the left, select Networking, and the routes. This will give you the base URL for ICN. Append `}<inlineCode parentName=\"p\">{`/navigator`}</inlineCode>{` to that URL. That should take you to the ICN page. The username is `}<inlineCode parentName=\"p\">{`ceadmin`}</inlineCode>{` and the password is `}<inlineCode parentName=\"p\">{`Passw0rd`}</inlineCode>{`.`}</p>\n    <h3>{`Post-install tasks`}</h3>\n    <p>{`See the following step to complete the installation:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSYHZ8_18.0.x/com.ibm.dba.install/k8s_topics/tsk_ecmconfigbank8s.html\"\n        }}>{`Configuring IBM Business Automation Navigator in a container environment`}</a></li>\n    </ul>\n    <h3>{`Initialize your Navigator installation`}</h3>\n    <p>{`Login to Navigator. Go to `}<inlineCode parentName=\"p\">{`Administration`}</inlineCode>{` panel from the `}<inlineCode parentName=\"p\">{`Main Menu`}</inlineCode>{`. Click on `}<inlineCode parentName=\"p\">{`Connections`}</inlineCode>{` then select the `}<inlineCode parentName=\"p\">{`Repositories`}</inlineCode>{` tab.`}</p>\n    <p>{`Create a repository: `}</p>\n    <ul>\n      <li parentName=\"ul\">{`Choose `}<inlineCode parentName=\"li\">{`FileNet Content Manager repository`}</inlineCode>{` as type. `}</li>\n      <li parentName=\"ul\">{`The server URL must be your CPE service URL + `}<inlineCode parentName=\"li\">{`/wsi/FNCEWS40MTOM/`}</inlineCode>{`. This should look like: `}<inlineCode parentName=\"li\">{`https://cpe-prod-release-ibm-dba-contentservices-https-ecmproject.router.default.svc.cluster.local/wsi/FNCEWS40MTOM/`}</inlineCode>{`.`}</li>\n      <li parentName=\"ul\">{`In the `}<inlineCode parentName=\"li\">{`Configuration Parameters`}</inlineCode>{` tab, set the `}<inlineCode parentName=\"li\">{`Entry template management`}</inlineCode>{` value to `}<inlineCode parentName=\"li\">{`Enabled`}</inlineCode>{`.`}</li>\n    </ul>\n    <p>{`Create a `}<inlineCode parentName=\"p\">{`Desktop`}</inlineCode>{`.`}</p>\n    <h3>{`Uninstall`}</h3>\n    <p>{`If needed, run the following steps to uninstall ICN:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`helm delete navigator-prod-release --purge \noc delete -f route.yaml\noc delete secret admin.registrykey -n fncnproject\n`}</code></pre>\n    <p>{`To optionally delete the PVs`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc delete pvc icn-asperastore-pvc\noc delete pvc icn-cfgstore-pvc\noc delete pvc icn-logstore-pvc\noc delete pvc icn-pluginstore-pvc\noc delete pvc icn-vw-cachestore-pvc\noc delete pvc icn-vw-logstore-pvc\n\noc delete -f pv.yaml\n`}</code></pre>\n    <p>{`Ask your database administrator to remove the databases associated with ICN.`}</p>\n    <h3>{`Troubleshooting`}</h3>\n    <p>{`Check the pods for the ecmproject. This will show the overall health.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc get pods -n fncnproject\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Check for errors in the `}<inlineCode parentName=\"li\">{`./loadimages.sh`}</inlineCode>{` step earlier.  `}</li>\n      <li parentName=\"ul\">{`The registry might have run out of room. `}</li>\n      <li parentName=\"ul\">{`Verify you’re pushing/pulling to/from the right registry in the docker console.`}</li>\n      <li parentName=\"ul\">{`Verify Secret is not preventing you from pulling images. `}</li>\n      <li parentName=\"ul\">{`Infrastructure might have evicted the registry pod.`}</li>\n    </ul>\n    <p>{`Verify both images were uploaded and are available to your project workspace.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc get imagestreams -n fncnproject\n`}</code></pre>\n    <p>{`Run oc describe pod to gain insight into what’s going on`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc describe pod <pod name> -n fncnproject\n\n`}</code></pre>\n    <p>{`Run oc logs to view the pod’s log files`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc logs <pod name> -n fncnproject\n\n`}</code></pre>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}