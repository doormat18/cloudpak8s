{"expireTime":9007200837999184000,"key":"gatsby-plugin-mdx-entire-payload-a13b6d317263b55dbbf894cf0a175a78-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import DefaultLayout from \"/Users/davethiessen/github/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\"","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":124,"offset":125},"indent":[]}},{"type":"export","default":true,"value":"export default DefaultLayout","position":{"start":{"line":5,"column":1,"offset":127},"end":{"line":5,"column":29,"offset":155},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[],"position":{"start":{"line":7,"column":1,"offset":157},"end":{"line":7,"column":3,"offset":159},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":157},"end":{"line":7,"column":3,"offset":159},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"make sure there is a space after the - so that the TOC is generated","position":{"start":{"line":8,"column":3,"offset":162},"end":{"line":8,"column":70,"offset":229},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":160},"end":{"line":8,"column":70,"offset":229},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"{:toc}","position":{"start":{"line":9,"column":1,"offset":230},"end":{"line":9,"column":7,"offset":236},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":230},"end":{"line":9,"column":7,"offset":236},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Most components from the IBM Cloud Pak for Automation need access to a database server and a directory service.\nBACA and ECM specifically need access to a non-containerized DB2 database service.","position":{"start":{"line":11,"column":1,"offset":238},"end":{"line":12,"column":83,"offset":432},"indent":[1]}}],"position":{"start":{"line":11,"column":1,"offset":238},"end":{"line":12,"column":83,"offset":432},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"The following sections provide instructions on how to install DB2 and the LDAP service provided by the IBM Security Directory Server.","position":{"start":{"line":14,"column":1,"offset":434},"end":{"line":14,"column":134,"offset":567},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":434},"end":{"line":14,"column":134,"offset":567},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Install DB2","position":{"start":{"line":16,"column":4,"offset":572},"end":{"line":16,"column":15,"offset":583},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":569},"end":{"line":16,"column":15,"offset":583},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Download the software archives","position":{"start":{"line":18,"column":5,"offset":589},"end":{"line":18,"column":35,"offset":619},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":585},"end":{"line":18,"column":35,"offset":619},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Download the following IBM DB2 v11.1 archives and fixpack in your working directory:","position":{"start":{"line":19,"column":1,"offset":620},"end":{"line":19,"column":85,"offset":704},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":620},"end":{"line":19,"column":85,"offset":704},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"IBM DB2 Advanced Workgroup Server Edition Restricted Use Activation V11.1 for Linux, UNIX and Windows Multilingual","position":{"start":{"line":20,"column":4,"offset":708},"end":{"line":20,"column":118,"offset":822},"indent":[]}}],"position":{"start":{"line":20,"column":3,"offset":707},"end":{"line":20,"column":119,"offset":823},"indent":[]}},{"type":"text","value":" (CNB21ML).","position":{"start":{"line":20,"column":119,"offset":823},"end":{"line":20,"column":130,"offset":834},"indent":[]}}],"position":{"start":{"line":20,"column":3,"offset":707},"end":{"line":20,"column":130,"offset":834},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":705},"end":{"line":20,"column":130,"offset":834},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"IBM DB2 Advanced Workgroup Server Edition Server Restricted Use V11.1 for Linux on AMD64 and Intel EM64T systems (x64) Multilingual","position":{"start":{"line":21,"column":4,"offset":838},"end":{"line":21,"column":135,"offset":969},"indent":[]}}],"position":{"start":{"line":21,"column":3,"offset":837},"end":{"line":21,"column":136,"offset":970},"indent":[]}},{"type":"text","value":" (CNB8FML).","position":{"start":{"line":21,"column":136,"offset":970},"end":{"line":21,"column":147,"offset":981},"indent":[]}}],"position":{"start":{"line":21,"column":3,"offset":837},"end":{"line":21,"column":147,"offset":981},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":835},"end":{"line":21,"column":147,"offset":981},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.ibm.com/support/pages/download-db2-fix-packs-version-db2-linux-unix-and-windows","children":[{"type":"text","value":"IBM DB2 11.1.x Universal Fixpack","position":{"start":{"line":22,"column":4,"offset":985},"end":{"line":22,"column":36,"offset":1017},"indent":[]}}],"position":{"start":{"line":22,"column":3,"offset":984},"end":{"line":22,"column":130,"offset":1111},"indent":[]}}],"position":{"start":{"line":22,"column":3,"offset":984},"end":{"line":22,"column":130,"offset":1111},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":982},"end":{"line":22,"column":130,"offset":1111},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":705},"end":{"line":22,"column":130,"offset":1111},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Install the base DB2 version","position":{"start":{"line":24,"column":5,"offset":1117},"end":{"line":24,"column":33,"offset":1145},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1113},"end":{"line":24,"column":33,"offset":1145},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Install unzip if not present:","position":{"start":{"line":26,"column":3,"offset":1149},"end":{"line":26,"column":32,"offset":1178},"indent":[]}}],"position":{"start":{"line":26,"column":3,"offset":1149},"end":{"line":26,"column":32,"offset":1178},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1147},"end":{"line":26,"column":32,"offset":1178},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1147},"end":{"line":26,"column":32,"offset":1178},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"yum install unzip","position":{"start":{"line":27,"column":1,"offset":1179},"end":{"line":29,"column":4,"offset":1204},"indent":[1,1]}},{"type":"list","ordered":false,"start":null,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Download the DB2 response file ","position":{"start":{"line":31,"column":3,"offset":1208},"end":{"line":31,"column":34,"offset":1239},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/shared/db2dba.rsp","children":[{"type":"inlineCode","value":"db2dba.rsp","position":{"start":{"line":31,"column":35,"offset":1240},"end":{"line":31,"column":47,"offset":1252},"indent":[]}}],"position":{"start":{"line":31,"column":34,"offset":1239},"end":{"line":31,"column":86,"offset":1291},"indent":[]}},{"type":"text","value":" and edit the file to provide your password in the ","position":{"start":{"line":31,"column":86,"offset":1291},"end":{"line":31,"column":137,"offset":1342},"indent":[]}},{"type":"inlineCode","value":"<you-password>","position":{"start":{"line":31,"column":137,"offset":1342},"end":{"line":31,"column":153,"offset":1358},"indent":[]}},{"type":"text","value":" placeholders.","position":{"start":{"line":31,"column":153,"offset":1358},"end":{"line":31,"column":167,"offset":1372},"indent":[]}}],"position":{"start":{"line":31,"column":3,"offset":1208},"end":{"line":31,"column":167,"offset":1372},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":1206},"end":{"line":32,"column":1,"offset":1373},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Expand the archive and start the install:","position":{"start":{"line":33,"column":3,"offset":1376},"end":{"line":33,"column":44,"offset":1417},"indent":[]}}],"position":{"start":{"line":33,"column":3,"offset":1376},"end":{"line":33,"column":44,"offset":1417},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1374},"end":{"line":33,"column":44,"offset":1417},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":1206},"end":{"line":33,"column":44,"offset":1417},"indent":[1,1]}},{"type":"code","lang":null,"meta":null,"value":"tar xzvf DB2_AWSE_REST_Svr_11.1_Lnx_86-64.tar.gz\nunzip DB2_AWSE_Restricted_Activation_11.1.zip\n./server_awse_o/db2setup -r db2dba.rsp","position":{"start":{"line":34,"column":1,"offset":1418},"end":{"line":38,"column":4,"offset":1559},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You will see the following warnings, which you can ignore.","position":{"start":{"line":39,"column":1,"offset":1560},"end":{"line":39,"column":59,"offset":1618},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":1560},"end":{"line":39,"column":59,"offset":1618},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"Summary of prerequisites that are not met on the current system: \nDBT3514W  The db2prereqcheck utility failed to find the following 32-bit library file: \"/lib/libpam.so*\". \nDBT3514W  The db2prereqcheck utility failed to find the following 32-bit library file: \"libstdc++.so.6\". ","position":{"start":{"line":40,"column":1,"offset":1619},"end":{"line":44,"column":4,"offset":1905},"indent":[1,1,1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Add the license","position":{"start":{"line":46,"column":3,"offset":1909},"end":{"line":46,"column":18,"offset":1924},"indent":[]}}],"position":{"start":{"line":46,"column":3,"offset":1909},"end":{"line":46,"column":18,"offset":1924},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":1907},"end":{"line":46,"column":18,"offset":1924},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":1907},"end":{"line":46,"column":18,"offset":1924},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"/opt/ibm/db2/V11.1/adm/db2licm -a awse_o/db2/license/db2awse_o.lic","position":{"start":{"line":47,"column":1,"offset":1925},"end":{"line":49,"column":4,"offset":1999},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Install the fixpack","position":{"start":{"line":51,"column":5,"offset":2005},"end":{"line":51,"column":24,"offset":2024},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":2001},"end":{"line":51,"column":24,"offset":2024},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For more information, see for example ","position":{"start":{"line":52,"column":1,"offset":2025},"end":{"line":52,"column":39,"offset":2063},"indent":[]}},{"type":"link","title":null,"url":"https://www.ibm.com/support/knowledgecenter/en/SSBNJ7_1.4.3/db2/ttnpm_db2_FP1.html","children":[{"type":"text","value":"this page","position":{"start":{"line":52,"column":40,"offset":2064},"end":{"line":52,"column":49,"offset":2073},"indent":[]}}],"position":{"start":{"line":52,"column":39,"offset":2063},"end":{"line":52,"column":134,"offset":2158},"indent":[]}},{"type":"text","value":" of the IBM Knowledge Center.","position":{"start":{"line":52,"column":134,"offset":2158},"end":{"line":52,"column":163,"offset":2187},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":2025},"end":{"line":52,"column":163,"offset":2187},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"## Expend the archive of the fixpack\ntar xvf v11.1.4fp4a_linuxx64_universal_fixpack.tar.gz\n## precheck before upgrade\ncd universal\n./db2prereqcheck -v 11.1.1.1 -i -s\n\n## list all db2 instances\n/opt/ibm/db2/V11.1/instance/db2ilist\ndb2inst1\n\n## Stop the instance db2inst1\nsu - db2inst1\ndb2 list application\ndb2 force applications all\ndb2 terminate\ndb2stop force\ndb2licd -end\nexit\n\nps -ef |grep db2fm\n/opt/ibm/db2/V11.1/bin/db2fmcu -d\n/opt/ibm/db2/V11.1/bin/db2fm -i db2inst1 -D\n\n/opt/ibm/db2/V11.1/instance/db2iset -i db2inst1 -all\nDB2_DEFERRED_PREPARE_SEMANTICS=YES\nDB2_COMPATIBILITY_VECTOR=ORA\nDB2COMM=TCPIP\nDB2AUTOSTART=YES\n\n/opt/ibm/db2/V11.1/instance/db2iauto -off db2inst1\n\nsu - db2inst1\nipclean\nexit\n\nsu - dasusr1\n/opt/ibm/db2/V11.1/das/bin/db2admin stop\nexit\n\n## Upgrade DB2\n## In case go to the fixpack universal directory\ncd /data/downloads/db2/fixpack11.1.1/universal\n./installFixPack -b /opt/ibm/db2/V11.1\n\n## Upgrade DB2 instance\n/opt/ibm/db2/V11.1/instance/db2iupdt db2inst1\n/opt/ibm/db2/V11.1/instance/db2iauto -on db2inst1\nsu - db2inst1\ndb2start\ndb2level\nexit\n\n#yum install libstdc++.so.6\n#yum install libstdc++.so.5\n#yum install compat-libstdc++-33","position":{"start":{"line":54,"column":1,"offset":2189},"end":{"line":110,"column":4,"offset":3360},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Connection information","position":{"start":{"line":112,"column":5,"offset":3366},"end":{"line":112,"column":27,"offset":3388},"indent":[]}}],"position":{"start":{"line":112,"column":1,"offset":3362},"end":{"line":112,"column":27,"offset":3388},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Upon install completion, you can test the install using the following connection information:","position":{"start":{"line":113,"column":1,"offset":3389},"end":{"line":113,"column":94,"offset":3482},"indent":[]}}],"position":{"start":{"line":113,"column":1,"offset":3389},"end":{"line":113,"column":94,"offset":3482},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"URL: ","position":{"start":{"line":115,"column":3,"offset":3486},"end":{"line":115,"column":8,"offset":3491},"indent":[]}},{"type":"inlineCode","value":"<host>:50000","position":{"start":{"line":115,"column":8,"offset":3491},"end":{"line":115,"column":22,"offset":3505},"indent":[]}}],"position":{"start":{"line":115,"column":3,"offset":3486},"end":{"line":115,"column":22,"offset":3505},"indent":[]}}],"position":{"start":{"line":115,"column":1,"offset":3484},"end":{"line":115,"column":22,"offset":3505},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"User: ","position":{"start":{"line":116,"column":3,"offset":3508},"end":{"line":116,"column":9,"offset":3514},"indent":[]}},{"type":"inlineCode","value":"db2inst1","position":{"start":{"line":116,"column":9,"offset":3514},"end":{"line":116,"column":19,"offset":3524},"indent":[]}}],"position":{"start":{"line":116,"column":3,"offset":3508},"end":{"line":116,"column":19,"offset":3524},"indent":[]}}],"position":{"start":{"line":116,"column":1,"offset":3506},"end":{"line":116,"column":19,"offset":3524},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Password: ","position":{"start":{"line":117,"column":3,"offset":3527},"end":{"line":117,"column":13,"offset":3537},"indent":[]}},{"type":"inlineCode","value":"<your-password>","position":{"start":{"line":117,"column":13,"offset":3537},"end":{"line":117,"column":30,"offset":3554},"indent":[]}}],"position":{"start":{"line":117,"column":3,"offset":3527},"end":{"line":117,"column":30,"offset":3554},"indent":[]}}],"position":{"start":{"line":117,"column":1,"offset":3525},"end":{"line":117,"column":30,"offset":3554},"indent":[]}}],"position":{"start":{"line":115,"column":1,"offset":3484},"end":{"line":117,"column":30,"offset":3554},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Install LDAP","position":{"start":{"line":120,"column":4,"offset":3560},"end":{"line":120,"column":16,"offset":3572},"indent":[]}}],"position":{"start":{"line":120,"column":1,"offset":3557},"end":{"line":120,"column":16,"offset":3572},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Download the software archives","position":{"start":{"line":122,"column":5,"offset":3578},"end":{"line":122,"column":35,"offset":3608},"indent":[]}}],"position":{"start":{"line":122,"column":1,"offset":3574},"end":{"line":122,"column":35,"offset":3608},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Download the following IBM Security Directory Server V6.4 archives and fixpack in your working directory:","position":{"start":{"line":123,"column":1,"offset":3609},"end":{"line":123,"column":106,"offset":3714},"indent":[]}}],"position":{"start":{"line":123,"column":1,"offset":3609},"end":{"line":123,"column":106,"offset":3714},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"IBM Security Directory Server Premium Feature Activation Package v6.4 Multiplatform Multilingual eAssembly (CRV3IML)","position":{"start":{"line":124,"column":4,"offset":3718},"end":{"line":124,"column":120,"offset":3834},"indent":[]}}],"position":{"start":{"line":124,"column":3,"offset":3717},"end":{"line":124,"column":121,"offset":3835},"indent":[]}}],"position":{"start":{"line":124,"column":3,"offset":3717},"end":{"line":124,"column":121,"offset":3835},"indent":[]}}],"position":{"start":{"line":124,"column":1,"offset":3715},"end":{"line":124,"column":121,"offset":3835},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"IBM Security Directory Server V6.4 Client-Server ISO without entitlement for Linux x86-64 Multilingual (CN487ML)","position":{"start":{"line":125,"column":4,"offset":3839},"end":{"line":125,"column":116,"offset":3951},"indent":[]}}],"position":{"start":{"line":125,"column":3,"offset":3838},"end":{"line":125,"column":117,"offset":3952},"indent":[]}}],"position":{"start":{"line":125,"column":3,"offset":3838},"end":{"line":125,"column":117,"offset":3952},"indent":[]}}],"position":{"start":{"line":125,"column":1,"offset":3836},"end":{"line":125,"column":117,"offset":3952},"indent":[]}}],"position":{"start":{"line":124,"column":1,"offset":3715},"end":{"line":125,"column":117,"offset":3952},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Mount the SDS ISO","position":{"start":{"line":127,"column":5,"offset":3958},"end":{"line":127,"column":22,"offset":3975},"indent":[]}}],"position":{"start":{"line":127,"column":1,"offset":3954},"end":{"line":127,"column":22,"offset":3975},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"mkdir /mnt/iso\nmount -t iso9660 -o loop /data/downloads/sds/sds64-linux-x86-64.iso /mnt/iso/","position":{"start":{"line":128,"column":1,"offset":3976},"end":{"line":131,"column":4,"offset":4076},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Install SDS","position":{"start":{"line":133,"column":5,"offset":4082},"end":{"line":133,"column":16,"offset":4093},"indent":[]}}],"position":{"start":{"line":133,"column":1,"offset":4078},"end":{"line":133,"column":16,"offset":4093},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"yum install ksh\n\n## Setup ldap user and group\ngroupadd idsldap\nuseradd -g idsldap -d /home/idsldap -m -s /bin/ksh idsldap\npasswd idsldap\n## enter '<your-password>'\n\nusermod -a -G idsldap root\ngroups root\n\n## Skip db2 installation\nmkdir -p /opt/ibm/ldap/V6.4/install\ntouch /opt/ibm/ldap/V6.4/install/IBMLDAP_INSTALL_SKIPDB2REQ\n\n## Install gskit\ncd /mnt/iso/ibm_gskit\nrpm -Uhv gsk*linux.x86_64.rpm\n\n## Install sds rpms\ncd /mnt/iso/license\n./idsLicense\n## Enter 1 to accept the license agreement\n\ncd /mnt/iso/images\nrpm --force -ihv idsldap*rpm\n\ncd /data/downloads/sds\nunzip sds64-premium-feature-act-pkg.zip\ncd sdsV6.4/entitlement\nrpm --force -ihv idsldap-ent64-6.4.0-0.x86_64.rpm\n\n## Install ibm jdk\ncd /mnt/iso/ibm_jdk\ntar -xf 6.0.16.2-ISS-JAVA-LinuxX64-FP0002.tar -C /opt/ibm/ldap/V6.4/\n\n## Setup db2 path\nvi /opt/ibm/ldap/V6.4/etc/ldapdb.properties\ncurrentDB2InstallPath=/opt/ibm/db2/V11.1\ncurrentDB2Version=11.1.0.0\n\n## Create and configure instance\ncd /opt/ibm/ldap/V6.4/sbin\n./idsadduser -u dsinst1 -g grinst1 -w <your-password>\n## Enter 1 to continue\n\n## Create instance\n./idsicrt -I dsinst1 -p 389 -s 636 -e mysecretkey! -l /home/dsinst1 -G grinst1 -w <your-password>\n## Enter 1 to continue\n\n## Configure a database for a directory server instance.\n./idscfgdb -I dsinst1 -a dsinst1 -w <your-password> -t dsinst1 -l /home/dsinst1\n\n## Set the administration DN and administrative password for an instance\n./idsdnpw -I dsinst1 –u cn=root –p <your-password>\n\n## Add suffix\n./idscfgsuf -I dsinst1 -s o=IBM,c=US","position":{"start":{"line":134,"column":1,"offset":4094},"end":{"line":193,"column":4,"offset":5614},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Operating the SDS Server","position":{"start":{"line":195,"column":5,"offset":5620},"end":{"line":195,"column":29,"offset":5644},"indent":[]}}],"position":{"start":{"line":195,"column":1,"offset":5616},"end":{"line":195,"column":29,"offset":5644},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"## Start the directory server\n./ibmslapd -I dsinst1\n\n## Stop the directory server\n./ibmslapd -I dsinst1 -k\n\n## Start or stop the administration server\n./ibmdiradm -I dsinst1\n\n## Stop the administration server\n./ibmdiradm -I dsinst1 -k\n\n## Verify the server\ncd /opt/ibm/ldap/V6.4/bin\n./ldapsearch -h ldap://169.47.178.137:389 -s base -b \" \" objectclass=* ibm-slapdisconfigurationmode","position":{"start":{"line":196,"column":1,"offset":5645},"end":{"line":212,"column":4,"offset":6035},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Import LDAP users and groups","position":{"start":{"line":214,"column":5,"offset":6041},"end":{"line":214,"column":33,"offset":6069},"indent":[]}}],"position":{"start":{"line":214,"column":1,"offset":6037},"end":{"line":214,"column":33,"offset":6069},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Install a tool such as ","position":{"start":{"line":216,"column":3,"offset":6073},"end":{"line":216,"column":26,"offset":6096},"indent":[]}},{"type":"link","title":null,"url":"http://sourceforge.net/projects/jxplorer/files/jxplorer/version%203.3.1.2/jxplorer-3.3.1.2-windows-installer.exe/download","children":[{"type":"text","value":"JXplorer","position":{"start":{"line":216,"column":27,"offset":6097},"end":{"line":216,"column":35,"offset":6105},"indent":[]}}],"position":{"start":{"line":216,"column":26,"offset":6096},"end":{"line":216,"column":159,"offset":6229},"indent":[]}},{"type":"text","value":" to browse your LDAP directory.","position":{"start":{"line":216,"column":159,"offset":6229},"end":{"line":216,"column":190,"offset":6260},"indent":[]}}],"position":{"start":{"line":216,"column":3,"offset":6073},"end":{"line":216,"column":190,"offset":6260},"indent":[]}}],"position":{"start":{"line":216,"column":1,"offset":6071},"end":{"line":216,"column":190,"offset":6260},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Import the ","position":{"start":{"line":217,"column":3,"offset":6263},"end":{"line":217,"column":14,"offset":6274},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/shared/cp4a.ldif","children":[{"type":"inlineCode","value":"cp4a.ldif","position":{"start":{"line":217,"column":15,"offset":6275},"end":{"line":217,"column":26,"offset":6286},"indent":[]}}],"position":{"start":{"line":217,"column":14,"offset":6274},"end":{"line":217,"column":64,"offset":6324},"indent":[]}},{"type":"text","value":" LDAP Data Interchange Format file using this tool.","position":{"start":{"line":217,"column":64,"offset":6324},"end":{"line":217,"column":115,"offset":6375},"indent":[]}}],"position":{"start":{"line":217,"column":3,"offset":6263},"end":{"line":217,"column":115,"offset":6375},"indent":[]}}],"position":{"start":{"line":217,"column":1,"offset":6261},"end":{"line":217,"column":115,"offset":6375},"indent":[]}}],"position":{"start":{"line":216,"column":1,"offset":6071},"end":{"line":217,"column":115,"offset":6375},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Uninstall SDS","position":{"start":{"line":219,"column":5,"offset":6381},"end":{"line":219,"column":18,"offset":6394},"indent":[]}}],"position":{"start":{"line":219,"column":1,"offset":6377},"end":{"line":219,"column":18,"offset":6394},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"# Remove existing GSK\nrpm -qa | grep -i gsk\nrpm -e `rpm -qa | grep -i gsk`\n\n# Remove all the other rpm\nrpm -ev idsldap-srv64bit64-6.4.0-0.x86_64.rpm\nrpm -qa | grep -i idsldap\nrpm -ev `rpm -qa | grep -i idsldap`","position":{"start":{"line":220,"column":1,"offset":6395},"end":{"line":229,"column":4,"offset":6613},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Connection information","position":{"start":{"line":231,"column":5,"offset":6619},"end":{"line":231,"column":27,"offset":6641},"indent":[]}}],"position":{"start":{"line":231,"column":1,"offset":6615},"end":{"line":231,"column":27,"offset":6641},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Upon install completion, you can test the install using the following connection information:","position":{"start":{"line":232,"column":1,"offset":6642},"end":{"line":232,"column":94,"offset":6735},"indent":[]}}],"position":{"start":{"line":232,"column":1,"offset":6642},"end":{"line":232,"column":94,"offset":6735},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"URL: ","position":{"start":{"line":234,"column":3,"offset":6739},"end":{"line":234,"column":8,"offset":6744},"indent":[]}},{"type":"inlineCode","value":"ldap://<host>:389","position":{"start":{"line":234,"column":8,"offset":6744},"end":{"line":234,"column":27,"offset":6763},"indent":[]}}],"position":{"start":{"line":234,"column":3,"offset":6739},"end":{"line":234,"column":27,"offset":6763},"indent":[]}}],"position":{"start":{"line":234,"column":1,"offset":6737},"end":{"line":234,"column":27,"offset":6763},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"User: ","position":{"start":{"line":235,"column":3,"offset":6766},"end":{"line":235,"column":9,"offset":6772},"indent":[]}},{"type":"inlineCode","value":"cn=root","position":{"start":{"line":235,"column":9,"offset":6772},"end":{"line":235,"column":18,"offset":6781},"indent":[]}}],"position":{"start":{"line":235,"column":3,"offset":6766},"end":{"line":235,"column":18,"offset":6781},"indent":[]}}],"position":{"start":{"line":235,"column":1,"offset":6764},"end":{"line":235,"column":18,"offset":6781},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Password: ","position":{"start":{"line":236,"column":3,"offset":6784},"end":{"line":236,"column":13,"offset":6794},"indent":[]}},{"type":"inlineCode","value":"<your-password>","position":{"start":{"line":236,"column":13,"offset":6794},"end":{"line":236,"column":30,"offset":6811},"indent":[]}}],"position":{"start":{"line":236,"column":3,"offset":6784},"end":{"line":236,"column":30,"offset":6811},"indent":[]}}],"position":{"start":{"line":236,"column":1,"offset":6782},"end":{"line":236,"column":30,"offset":6811},"indent":[]}}],"position":{"start":{"line":234,"column":1,"offset":6737},"end":{"line":236,"column":30,"offset":6811},"indent":[1,1]}},{"type":"export","value":"export const _frontmatter = {}","position":{"start":{"line":240,"column":1,"offset":6815},"end":{"line":240,"column":31,"offset":6845},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":240,"column":31,"offset":6845}}},"scopeImports":[],"scopeIdentifiers":[],"rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport DefaultLayout from \"/Users/davethiessen/github/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\"\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <ul>\n      <li parentName=\"ul\"></li>\n    </ul>\n    <h1>{`make sure there is a space after the - so that the TOC is generated`}</h1>\n    <p>{`{:toc}`}</p>\n    <p>{`Most components from the IBM Cloud Pak for Automation need access to a database server and a directory service.\nBACA and ECM specifically need access to a non-containerized DB2 database service.`}</p>\n    <p>{`The following sections provide instructions on how to install DB2 and the LDAP service provided by the IBM Security Directory Server.`}</p>\n    <h2>{`Install DB2`}</h2>\n    <h3>{`Download the software archives`}</h3>\n    <p>{`Download the following IBM DB2 v11.1 archives and fixpack in your working directory:`}</p>\n    <ul>\n      <li parentName=\"ul\"><em parentName=\"li\">{`IBM DB2 Advanced Workgroup Server Edition Restricted Use Activation V11.1 for Linux, UNIX and Windows Multilingual`}</em>{` (CNB21ML).`}</li>\n      <li parentName=\"ul\"><em parentName=\"li\">{`IBM DB2 Advanced Workgroup Server Edition Server Restricted Use V11.1 for Linux on AMD64 and Intel EM64T systems (x64) Multilingual`}</em>{` (CNB8FML).`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://www.ibm.com/support/pages/download-db2-fix-packs-version-db2-linux-unix-and-windows\"\n        }}>{`IBM DB2 11.1.x Universal Fixpack`}</a></li>\n    </ul>\n    <h3>{`Install the base DB2 version`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Install unzip if not present:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`yum install unzip\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Download the DB2 response file `}<a parentName=\"p\" {...{\n            \"href\": \"/assets/automation/shared/db2dba.rsp\"\n          }}><inlineCode parentName=\"a\">{`db2dba.rsp`}</inlineCode></a>{` and edit the file to provide your password in the `}<inlineCode parentName=\"p\">{`<you-password>`}</inlineCode>{` placeholders.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Expand the archive and start the install:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`tar xzvf DB2_AWSE_REST_Svr_11.1_Lnx_86-64.tar.gz\nunzip DB2_AWSE_Restricted_Activation_11.1.zip\n./server_awse_o/db2setup -r db2dba.rsp\n`}</code></pre>\n    <p>{`You will see the following warnings, which you can ignore.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`Summary of prerequisites that are not met on the current system: \nDBT3514W  The db2prereqcheck utility failed to find the following 32-bit library file: \"/lib/libpam.so*\". \nDBT3514W  The db2prereqcheck utility failed to find the following 32-bit library file: \"libstdc++.so.6\". \n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Add the license`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`/opt/ibm/db2/V11.1/adm/db2licm -a awse_o/db2/license/db2awse_o.lic\n`}</code></pre>\n    <h3>{`Install the fixpack`}</h3>\n    <p>{`For more information, see for example `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSBNJ7_1.4.3/db2/ttnpm_db2_FP1.html\"\n      }}>{`this page`}</a>{` of the IBM Knowledge Center.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`## Expend the archive of the fixpack\ntar xvf v11.1.4fp4a_linuxx64_universal_fixpack.tar.gz\n## precheck before upgrade\ncd universal\n./db2prereqcheck -v 11.1.1.1 -i -s\n\n## list all db2 instances\n/opt/ibm/db2/V11.1/instance/db2ilist\ndb2inst1\n\n## Stop the instance db2inst1\nsu - db2inst1\ndb2 list application\ndb2 force applications all\ndb2 terminate\ndb2stop force\ndb2licd -end\nexit\n\nps -ef |grep db2fm\n/opt/ibm/db2/V11.1/bin/db2fmcu -d\n/opt/ibm/db2/V11.1/bin/db2fm -i db2inst1 -D\n\n/opt/ibm/db2/V11.1/instance/db2iset -i db2inst1 -all\nDB2_DEFERRED_PREPARE_SEMANTICS=YES\nDB2_COMPATIBILITY_VECTOR=ORA\nDB2COMM=TCPIP\nDB2AUTOSTART=YES\n\n/opt/ibm/db2/V11.1/instance/db2iauto -off db2inst1\n\nsu - db2inst1\nipclean\nexit\n\nsu - dasusr1\n/opt/ibm/db2/V11.1/das/bin/db2admin stop\nexit\n\n## Upgrade DB2\n## In case go to the fixpack universal directory\ncd /data/downloads/db2/fixpack11.1.1/universal\n./installFixPack -b /opt/ibm/db2/V11.1\n\n## Upgrade DB2 instance\n/opt/ibm/db2/V11.1/instance/db2iupdt db2inst1\n/opt/ibm/db2/V11.1/instance/db2iauto -on db2inst1\nsu - db2inst1\ndb2start\ndb2level\nexit\n\n#yum install libstdc++.so.6\n#yum install libstdc++.so.5\n#yum install compat-libstdc++-33\n`}</code></pre>\n    <h3>{`Connection information`}</h3>\n    <p>{`Upon install completion, you can test the install using the following connection information:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`URL: `}<inlineCode parentName=\"li\">{`<host>:50000`}</inlineCode></li>\n      <li parentName=\"ul\">{`User: `}<inlineCode parentName=\"li\">{`db2inst1`}</inlineCode></li>\n      <li parentName=\"ul\">{`Password: `}<inlineCode parentName=\"li\">{`<your-password>`}</inlineCode></li>\n    </ul>\n    <h2>{`Install LDAP`}</h2>\n    <h3>{`Download the software archives`}</h3>\n    <p>{`Download the following IBM Security Directory Server V6.4 archives and fixpack in your working directory:`}</p>\n    <ul>\n      <li parentName=\"ul\"><em parentName=\"li\">{`IBM Security Directory Server Premium Feature Activation Package v6.4 Multiplatform Multilingual eAssembly (CRV3IML)`}</em></li>\n      <li parentName=\"ul\"><em parentName=\"li\">{`IBM Security Directory Server V6.4 Client-Server ISO without entitlement for Linux x86-64 Multilingual (CN487ML)`}</em></li>\n    </ul>\n    <h3>{`Mount the SDS ISO`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`mkdir /mnt/iso\nmount -t iso9660 -o loop /data/downloads/sds/sds64-linux-x86-64.iso /mnt/iso/\n`}</code></pre>\n    <h3>{`Install SDS`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`yum install ksh\n\n## Setup ldap user and group\ngroupadd idsldap\nuseradd -g idsldap -d /home/idsldap -m -s /bin/ksh idsldap\npasswd idsldap\n## enter '<your-password>'\n\nusermod -a -G idsldap root\ngroups root\n\n## Skip db2 installation\nmkdir -p /opt/ibm/ldap/V6.4/install\ntouch /opt/ibm/ldap/V6.4/install/IBMLDAP_INSTALL_SKIPDB2REQ\n\n## Install gskit\ncd /mnt/iso/ibm_gskit\nrpm -Uhv gsk*linux.x86_64.rpm\n\n## Install sds rpms\ncd /mnt/iso/license\n./idsLicense\n## Enter 1 to accept the license agreement\n\ncd /mnt/iso/images\nrpm --force -ihv idsldap*rpm\n\ncd /data/downloads/sds\nunzip sds64-premium-feature-act-pkg.zip\ncd sdsV6.4/entitlement\nrpm --force -ihv idsldap-ent64-6.4.0-0.x86_64.rpm\n\n## Install ibm jdk\ncd /mnt/iso/ibm_jdk\ntar -xf 6.0.16.2-ISS-JAVA-LinuxX64-FP0002.tar -C /opt/ibm/ldap/V6.4/\n\n## Setup db2 path\nvi /opt/ibm/ldap/V6.4/etc/ldapdb.properties\ncurrentDB2InstallPath=/opt/ibm/db2/V11.1\ncurrentDB2Version=11.1.0.0\n\n## Create and configure instance\ncd /opt/ibm/ldap/V6.4/sbin\n./idsadduser -u dsinst1 -g grinst1 -w <your-password>\n## Enter 1 to continue\n\n## Create instance\n./idsicrt -I dsinst1 -p 389 -s 636 -e mysecretkey! -l /home/dsinst1 -G grinst1 -w <your-password>\n## Enter 1 to continue\n\n## Configure a database for a directory server instance.\n./idscfgdb -I dsinst1 -a dsinst1 -w <your-password> -t dsinst1 -l /home/dsinst1\n\n## Set the administration DN and administrative password for an instance\n./idsdnpw -I dsinst1 –u cn=root –p <your-password>\n\n## Add suffix\n./idscfgsuf -I dsinst1 -s o=IBM,c=US\n`}</code></pre>\n    <h3>{`Operating the SDS Server`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`## Start the directory server\n./ibmslapd -I dsinst1\n\n## Stop the directory server\n./ibmslapd -I dsinst1 -k\n\n## Start or stop the administration server\n./ibmdiradm -I dsinst1\n\n## Stop the administration server\n./ibmdiradm -I dsinst1 -k\n\n## Verify the server\ncd /opt/ibm/ldap/V6.4/bin\n./ldapsearch -h ldap://169.47.178.137:389 -s base -b \" \" objectclass=* ibm-slapdisconfigurationmode\n`}</code></pre>\n    <h3>{`Import LDAP users and groups`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Install a tool such as `}<a parentName=\"li\" {...{\n          \"href\": \"http://sourceforge.net/projects/jxplorer/files/jxplorer/version%203.3.1.2/jxplorer-3.3.1.2-windows-installer.exe/download\"\n        }}>{`JXplorer`}</a>{` to browse your LDAP directory.`}</li>\n      <li parentName=\"ul\">{`Import the `}<a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/shared/cp4a.ldif\"\n        }}><inlineCode parentName=\"a\">{`cp4a.ldif`}</inlineCode></a>{` LDAP Data Interchange Format file using this tool.`}</li>\n    </ul>\n    <h3>{`Uninstall SDS`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`# Remove existing GSK\nrpm -qa | grep -i gsk\nrpm -e \\`rpm -qa | grep -i gsk\\`\n\n# Remove all the other rpm\nrpm -ev idsldap-srv64bit64-6.4.0-0.x86_64.rpm\nrpm -qa | grep -i idsldap\nrpm -ev \\`rpm -qa | grep -i idsldap\\`\n`}</code></pre>\n    <h3>{`Connection information`}</h3>\n    <p>{`Upon install completion, you can test the install using the following connection information:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`URL: `}<inlineCode parentName=\"li\">{`ldap://<host>:389`}</inlineCode></li>\n      <li parentName=\"ul\">{`User: `}<inlineCode parentName=\"li\">{`cn=root`}</inlineCode></li>\n      <li parentName=\"ul\">{`Password: `}<inlineCode parentName=\"li\">{`<your-password>`}</inlineCode></li>\n    </ul>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}