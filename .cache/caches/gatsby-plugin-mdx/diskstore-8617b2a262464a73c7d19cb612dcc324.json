{"expireTime":9007200838008935000,"key":"gatsby-plugin-mdx-entire-payload-be800d3a2bff2b1c0ecd8bf13b797a7f-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import DefaultLayout from \"/Users/davethiessen/github/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\"","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":124,"offset":125},"indent":[]}},{"type":"export","default":true,"value":"export default DefaultLayout","position":{"start":{"line":5,"column":1,"offset":127},"end":{"line":5,"column":29,"offset":155},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[],"position":{"start":{"line":7,"column":1,"offset":157},"end":{"line":7,"column":3,"offset":159},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":157},"end":{"line":7,"column":3,"offset":159},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"make sure there is a space after the - so that the TOC is generated","position":{"start":{"line":8,"column":3,"offset":162},"end":{"line":8,"column":70,"offset":229},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":160},"end":{"line":8,"column":70,"offset":229},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"{:toc}","position":{"start":{"line":9,"column":1,"offset":230},"end":{"line":9,"column":7,"offset":236},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":230},"end":{"line":9,"column":7,"offset":236},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"(19.0.3 UPDATE NEEDED)","position":{"start":{"line":11,"column":3,"offset":240},"end":{"line":11,"column":25,"offset":262},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":238},"end":{"line":11,"column":27,"offset":264},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":238},"end":{"line":11,"column":27,"offset":264},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Required services","position":{"start":{"line":13,"column":5,"offset":270},"end":{"line":13,"column":22,"offset":287},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":266},"end":{"line":13,"column":22,"offset":287},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Before installing the IBM FileNet Content Manager (ECM), you should have the following pre-requisites in place:","position":{"start":{"line":14,"column":1,"offset":288},"end":{"line":14,"column":112,"offset":399},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":288},"end":{"line":14,"column":112,"offset":399},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Have privileged access to your DB2 database server. ","position":{"start":{"line":16,"column":3,"offset":403},"end":{"line":16,"column":55,"offset":455},"indent":[]}}],"position":{"start":{"line":16,"column":3,"offset":403},"end":{"line":16,"column":55,"offset":455},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":401},"end":{"line":16,"column":55,"offset":455},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Optionally, have access to your LDAP directory server.","position":{"start":{"line":17,"column":3,"offset":458},"end":{"line":17,"column":57,"offset":512},"indent":[]}}],"position":{"start":{"line":17,"column":3,"offset":458},"end":{"line":17,"column":57,"offset":512},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":456},"end":{"line":17,"column":57,"offset":512},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":401},"end":{"line":17,"column":57,"offset":512},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"See the ","position":{"start":{"line":19,"column":1,"offset":514},"end":{"line":19,"column":9,"offset":522},"indent":[]}},{"type":"link","title":null,"url":"/content/automation/shared-services","children":[{"type":"text","value":"Shared services","position":{"start":{"line":19,"column":10,"offset":523},"end":{"line":19,"column":25,"offset":538},"indent":[]}}],"position":{"start":{"line":19,"column":9,"offset":522},"end":{"line":19,"column":63,"offset":576},"indent":[]}},{"type":"text","value":" chapter for details on DB2 or LDAP installation, if needed.","position":{"start":{"line":19,"column":63,"offset":576},"end":{"line":19,"column":123,"offset":636},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":514},"end":{"line":19,"column":123,"offset":636},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Download the ECM PPA","position":{"start":{"line":21,"column":5,"offset":642},"end":{"line":21,"column":25,"offset":662},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":638},"end":{"line":21,"column":26,"offset":663},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Download the following PPA from ","position":{"start":{"line":22,"column":1,"offset":664},"end":{"line":22,"column":33,"offset":696},"indent":[]}},{"type":"link","title":null,"url":"https://www.ibm.com/software/passportadvantage","children":[{"type":"text","value":"IBM Passport Advantage","position":{"start":{"line":22,"column":34,"offset":697},"end":{"line":22,"column":56,"offset":719},"indent":[]}}],"position":{"start":{"line":22,"column":33,"offset":696},"end":{"line":22,"column":105,"offset":768},"indent":[]}},{"type":"text","value":" to your working-directory:","position":{"start":{"line":22,"column":105,"offset":768},"end":{"line":22,"column":132,"offset":795},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":664},"end":{"line":22,"column":132,"offset":795},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"IBM Cloud Pak for Automation v19.0.1 - Content Manager for Certified Kubernetes Multiplatform Multilingual (CC220ML)","position":{"start":{"line":24,"column":5,"offset":801},"end":{"line":24,"column":121,"offset":917},"indent":[]}}],"position":{"start":{"line":24,"column":4,"offset":800},"end":{"line":24,"column":122,"offset":918},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":24,"column":122,"offset":918},"end":{"line":24,"column":123,"offset":919},"indent":[]}}],"position":{"start":{"line":24,"column":4,"offset":800},"end":{"line":24,"column":123,"offset":919},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":797},"end":{"line":24,"column":123,"offset":919},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":797},"end":{"line":24,"column":123,"offset":919},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The downloaded archive should be named ","position":{"start":{"line":26,"column":1,"offset":921},"end":{"line":26,"column":40,"offset":960},"indent":[]}},{"type":"inlineCode","value":"ICP4A19.0.1-ecm.tgz","position":{"start":{"line":26,"column":40,"offset":960},"end":{"line":26,"column":61,"offset":981},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":26,"column":61,"offset":981},"end":{"line":26,"column":62,"offset":982},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":921},"end":{"line":26,"column":62,"offset":982},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Log in to you OCP cluster","position":{"start":{"line":28,"column":5,"offset":988},"end":{"line":28,"column":30,"offset":1013},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":984},"end":{"line":28,"column":30,"offset":1013},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"See the ","position":{"start":{"line":29,"column":1,"offset":1014},"end":{"line":29,"column":9,"offset":1022},"indent":[]}},{"type":"link","title":null,"url":"/content/automation/pre-requisites","children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":29,"column":10,"offset":1023},"end":{"line":29,"column":23,"offset":1036},"indent":[]}}],"position":{"start":{"line":29,"column":9,"offset":1022},"end":{"line":29,"column":60,"offset":1073},"indent":[]}},{"type":"text","value":" chapter for details on logging in to your OCP cluster.","position":{"start":{"line":29,"column":60,"offset":1073},"end":{"line":29,"column":115,"offset":1128},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":1014},"end":{"line":29,"column":115,"offset":1128},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Create the ECM project","position":{"start":{"line":31,"column":5,"offset":1134},"end":{"line":31,"column":27,"offset":1156},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":1130},"end":{"line":31,"column":27,"offset":1156},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Create a new OpenShift project for ECM with your desired name, e.g. ","position":{"start":{"line":32,"column":1,"offset":1157},"end":{"line":32,"column":69,"offset":1225},"indent":[]}},{"type":"inlineCode","value":"ecmproject","position":{"start":{"line":32,"column":69,"offset":1225},"end":{"line":32,"column":81,"offset":1237},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":32,"column":81,"offset":1237},"end":{"line":32,"column":82,"offset":1238},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":1157},"end":{"line":32,"column":82,"offset":1238},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc new-project ecmproject","position":{"start":{"line":33,"column":1,"offset":1239},"end":{"line":35,"column":4,"offset":1272},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Make sure you are working from your newly created ECM project, then grant the tiller server ","position":{"start":{"line":36,"column":1,"offset":1273},"end":{"line":36,"column":93,"offset":1365},"indent":[]}},{"type":"inlineCode","value":"edit","position":{"start":{"line":36,"column":93,"offset":1365},"end":{"line":36,"column":99,"offset":1371},"indent":[]}},{"type":"text","value":" access to current project:","position":{"start":{"line":36,"column":99,"offset":1371},"end":{"line":36,"column":126,"offset":1398},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":1273},"end":{"line":36,"column":126,"offset":1398},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc project ecmproject\noc adm policy add-role-to-user edit \"system:serviceaccount:tiller:tiller\"","position":{"start":{"line":37,"column":1,"offset":1399},"end":{"line":40,"column":4,"offset":1502},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Update the Security Context Constraint (SCC)","position":{"start":{"line":42,"column":5,"offset":1508},"end":{"line":42,"column":49,"offset":1552},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":1504},"end":{"line":42,"column":49,"offset":1552},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Add privileged access to default service account.  ","position":{"start":{"line":43,"column":4,"offset":1556},"end":{"line":43,"column":55,"offset":1607},"indent":[]}}],"position":{"start":{"line":43,"column":4,"offset":1556},"end":{"line":43,"column":55,"offset":1607},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":1553},"end":{"line":43,"column":55,"offset":1607},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The ecm Helm chart uses supplemental groups. You must modify the ecmproject namespace file to include that range of supplemental groups.  ","position":{"start":{"line":44,"column":4,"offset":1611},"end":{"line":44,"column":142,"offset":1749},"indent":[]}}],"position":{"start":{"line":44,"column":4,"offset":1611},"end":{"line":44,"column":142,"offset":1749},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":1608},"end":{"line":44,"column":142,"offset":1749},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":1553},"end":{"line":44,"column":142,"offset":1749},"indent":[1]}},{"type":"code","lang":null,"meta":null,"value":"oc adm policy add-scc-to-user privileged -z default\n\noc edit namespace ecmproject","position":{"start":{"line":46,"column":1,"offset":1751},"end":{"line":50,"column":4,"offset":1840},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"While in the editor change this line:   ","position":{"start":{"line":51,"column":1,"offset":1841},"end":{"line":51,"column":41,"offset":1881},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":1841},"end":{"line":51,"column":41,"offset":1881},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"openshift.io/sa.scc.supplemental-groups: 1000250000/10000  ","position":{"start":{"line":52,"column":4,"offset":1885},"end":{"line":52,"column":63,"offset":1944},"indent":[]}}],"position":{"start":{"line":52,"column":4,"offset":1885},"end":{"line":52,"column":63,"offset":1944},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":1882},"end":{"line":53,"column":3,"offset":1947},"indent":[1]}}],"position":{"start":{"line":52,"column":1,"offset":1882},"end":{"line":53,"column":3,"offset":1947},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"to the value 500/50000 so it looks like this:  ","position":{"start":{"line":54,"column":1,"offset":1948},"end":{"line":54,"column":48,"offset":1995},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":1948},"end":{"line":54,"column":48,"offset":1995},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"openshift.io/sa.scc.supplemental-groups: 500/50000  ","position":{"start":{"line":55,"column":4,"offset":1999},"end":{"line":55,"column":56,"offset":2051},"indent":[]}}],"position":{"start":{"line":55,"column":4,"offset":1999},"end":{"line":55,"column":56,"offset":2051},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":1996},"end":{"line":56,"column":3,"offset":2054},"indent":[1]}}],"position":{"start":{"line":55,"column":1,"offset":1996},"end":{"line":56,"column":3,"offset":2054},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"If the SCC is not applied properly you may get the following error later on:","position":{"start":{"line":57,"column":1,"offset":2055},"end":{"line":57,"column":77,"offset":2131},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":2055},"end":{"line":57,"column":77,"offset":2131},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"forbidden: unable to validate against any security context constraint: [fsGroup: Invalid value: []int64{50000}: 50000 is not an allowed group","position":{"start":{"line":58,"column":1,"offset":2132},"end":{"line":60,"column":4,"offset":2281},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Push the ECM images to the registry","position":{"start":{"line":62,"column":5,"offset":2287},"end":{"line":62,"column":40,"offset":2322},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":2283},"end":{"line":62,"column":40,"offset":2322},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Login to the Docker registry using your correct docker registry url. Example below. If you are running on-premise (i.e. not OpenShift as Managed Service on IBM Cloud) then you may need to precede the docker command with ","position":{"start":{"line":63,"column":1,"offset":2323},"end":{"line":63,"column":221,"offset":2543},"indent":[]}},{"type":"inlineCode","value":"sudo","position":{"start":{"line":63,"column":221,"offset":2543},"end":{"line":63,"column":227,"offset":2549},"indent":[]}},{"type":"text","value":". If you are running on OpenShift as Managed Service on IBM Cloud you will need to turn on port forwarding as described in ","position":{"start":{"line":63,"column":227,"offset":2549},"end":{"line":63,"column":350,"offset":2672},"indent":[]}},{"type":"link","title":null,"url":"./shared-services.md","children":[{"type":"text","value":"Shared services","position":{"start":{"line":63,"column":351,"offset":2673},"end":{"line":63,"column":366,"offset":2688},"indent":[]}}],"position":{"start":{"line":63,"column":350,"offset":2672},"end":{"line":63,"column":389,"offset":2711},"indent":[]}},{"type":"text","value":" chapter. ","position":{"start":{"line":63,"column":389,"offset":2711},"end":{"line":63,"column":399,"offset":2721},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":2323},"end":{"line":63,"column":399,"offset":2721},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"docker login -u $(oc whoami) -p $(oc whoami -t) docker-registry.default.svc:5000","position":{"start":{"line":65,"column":1,"offset":2723},"end":{"line":67,"column":4,"offset":2811},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Download the ","position":{"start":{"line":69,"column":1,"offset":2813},"end":{"line":69,"column":14,"offset":2826},"indent":[]}},{"type":"inlineCode","value":"loadimages.sh","position":{"start":{"line":69,"column":14,"offset":2826},"end":{"line":69,"column":29,"offset":2841},"indent":[]}},{"type":"text","value":" script to your working directory:","position":{"start":{"line":69,"column":29,"offset":2841},"end":{"line":69,"column":63,"offset":2875},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":2813},"end":{"line":69,"column":63,"offset":2875},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"wget https://raw.githubusercontent.com/icp4a/cert-kubernetes/19.0.1/scripts/loadimages.sh\nchmod +x loadimages.sh","position":{"start":{"line":71,"column":1,"offset":2877},"end":{"line":74,"column":4,"offset":2997},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Load the ecm product binary images:","position":{"start":{"line":76,"column":1,"offset":2999},"end":{"line":76,"column":36,"offset":3034},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":2999},"end":{"line":76,"column":36,"offset":3034},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"./loadimages.sh -p ICP4A19.0.1-ecm.tgz -r docker-registry.default.svc:5000/ecmproject","position":{"start":{"line":78,"column":1,"offset":3036},"end":{"line":80,"column":4,"offset":3129},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Create the databases","position":{"start":{"line":82,"column":5,"offset":3135},"end":{"line":82,"column":25,"offset":3155},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":3131},"end":{"line":82,"column":25,"offset":3155},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Download these files to your working directory on the database server:","position":{"start":{"line":84,"column":1,"offset":3157},"end":{"line":84,"column":71,"offset":3227},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":3157},"end":{"line":84,"column":71,"offset":3227},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/assets/automation/cpe/db2/GCDDB.sh","children":[{"type":"inlineCode","value":"GCDDB.sh","position":{"start":{"line":85,"column":4,"offset":3231},"end":{"line":85,"column":14,"offset":3241},"indent":[]}}],"position":{"start":{"line":85,"column":3,"offset":3230},"end":{"line":85,"column":52,"offset":3279},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":85,"column":52,"offset":3279},"end":{"line":85,"column":53,"offset":3280},"indent":[]}}],"position":{"start":{"line":85,"column":3,"offset":3230},"end":{"line":85,"column":53,"offset":3280},"indent":[]}}],"position":{"start":{"line":85,"column":1,"offset":3228},"end":{"line":85,"column":53,"offset":3280},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/assets/automation/cpe/db2/OS1DB.sh","children":[{"type":"inlineCode","value":"OS1DB.sh","position":{"start":{"line":86,"column":4,"offset":3284},"end":{"line":86,"column":14,"offset":3294},"indent":[]}}],"position":{"start":{"line":86,"column":3,"offset":3283},"end":{"line":86,"column":52,"offset":3332},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":86,"column":52,"offset":3332},"end":{"line":86,"column":53,"offset":3333},"indent":[]}}],"position":{"start":{"line":86,"column":3,"offset":3283},"end":{"line":86,"column":53,"offset":3333},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":3281},"end":{"line":86,"column":53,"offset":3333},"indent":[]}}],"position":{"start":{"line":85,"column":1,"offset":3228},"end":{"line":86,"column":53,"offset":3333},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Run the following commands:","position":{"start":{"line":88,"column":1,"offset":3335},"end":{"line":88,"column":28,"offset":3362},"indent":[]}}],"position":{"start":{"line":88,"column":1,"offset":3335},"end":{"line":88,"column":28,"offset":3362},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"## copy the db2 install script\nmkdir -p /data/db2fs\nmkdir -p /data/database/config\n\n## copy the GCDDB.sh and OS1DB.sh into folder /data/database/config\ncp GCDDB.sh /data/database/config\ncp OS1DB.sh /data/database/config\n\nexport CUR_COMMIT=ON\nsu - db2inst1 -c \"db2set DB2_WORKLOAD=FILENET_CM\"\necho \"set CUR_COMMIT=$CUR_COMMIT\"\n\nchown db2inst1:db2iadm1 /data/database/config/*.sh\nchmod 755 /data/database/config/*.sh\nchown -R db2inst1:db2iadm1 /data/db2fs\n\n## If you change the database names as the last entry on these lines you will also need to change them in GCD.xml and OBJSTORE.xml later on\nsu - db2inst1 -c \"/data/database/config/GCDDB.sh GCDDB\"\nsu - db2inst1 -c \"/data/database/config/OS1DB.sh OS1DB\"","position":{"start":{"line":90,"column":1,"offset":3364},"end":{"line":110,"column":4,"offset":4078},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Set up the persistent volumes","position":{"start":{"line":112,"column":5,"offset":4084},"end":{"line":112,"column":34,"offset":4113},"indent":[]}}],"position":{"start":{"line":112,"column":1,"offset":4080},"end":{"line":112,"column":34,"offset":4113},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Run the following commands to create the required PV folders in NFS, where ","position":{"start":{"line":113,"column":1,"offset":4114},"end":{"line":113,"column":76,"offset":4189},"indent":[]}},{"type":"inlineCode","value":"/data/persistentvolumes/","position":{"start":{"line":113,"column":76,"offset":4189},"end":{"line":113,"column":102,"offset":4215},"indent":[]}},{"type":"text","value":" is the mounted directory of your NFS server:","position":{"start":{"line":113,"column":102,"offset":4215},"end":{"line":113,"column":147,"offset":4260},"indent":[]}}],"position":{"start":{"line":113,"column":1,"offset":4114},"end":{"line":113,"column":147,"offset":4260},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"mkdir -p /data/persistentvolumes/cpe/configDropins/overrides\nmkdir -p /data/persistentvolumes/cpe/logs\nmkdir -p /data/persistentvolumes/cpe/cpefnlogstore\nmkdir -p /data/persistentvolumes/cpe/bootstrap\nmkdir -p /data/persistentvolumes/cpe/textext\nmkdir -p /data/persistentvolumes/cpe/icmrules\nmkdir -p /data/persistentvolumes/cpe/asa\n\nchown 50001:50000 /data/persistentvolumes/cpe/configDropins\nchown 50001:50000 /data/persistentvolumes/cpe/configDropins/overrides\nchown 50001:50000 /data/persistentvolumes/cpe/logs\nchown 50001:50000 /data/persistentvolumes/cpe/cpefnlogstore\nchown 50001:50000 /data/persistentvolumes/cpe/bootstrap\nchown 50001:50000 /data/persistentvolumes/cpe/textext\nchown 50001:50000 /data/persistentvolumes/cpe/icmrules\nchown 50001:50000 /data/persistentvolumes/cpe/asa\n\nmkdir -p /data/persistentvolumes/css/CSS_Server/data\nmkdir -p /data/persistentvolumes/css/CSS_Server/temp\nmkdir -p /data/persistentvolumes/css/CSS_Server/log\nmkdir -p /data/persistentvolumes/css/CSS_Server/config\nmkdir -p /data/persistentvolumes/css/indexareas\n\nchown 50001:50000 /data/persistentvolumes/css/CSS_Server/data\nchown 50001:50000 /data/persistentvolumes/css/CSS_Server/temp\nchown 50001:50000 /data/persistentvolumes/css/CSS_Server/log\nchown 50001:50000 /data/persistentvolumes/css/CSS_Server/config\nchown 50001:50000 /data/persistentvolumes/css/indexareas\n\nmkdir -p /data/persistentvolumes/cmis/configDropins/overrides\nmkdir -p /data/persistentvolumes/cmis/logs\n\nchown 50001:50000 /data/persistentvolumes/cmis/configDropins/overrides\nchown 50001:50000 /data/persistentvolumes/cmis/logs","position":{"start":{"line":115,"column":1,"offset":4262},"end":{"line":150,"column":4,"offset":5858},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Obtain the DB2 drivers from your database server installation. Copy them to the PVs. If your database server is local the commands should look like this: ","position":{"start":{"line":152,"column":1,"offset":5860},"end":{"line":152,"column":155,"offset":6014},"indent":[]}}],"position":{"start":{"line":152,"column":1,"offset":5860},"end":{"line":152,"column":155,"offset":6014},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"cp /opt/ibm/db2/V11.1/java/db2jcc4.jar /data/persistentvolumes/cpe/configDropins/overrides/\ncp /opt/ibm/db2/V11.1/java/db2jcc_license_cu.jar /data/persistentvolumes/cpe/configDropins/overrides/","position":{"start":{"line":154,"column":1,"offset":6016},"end":{"line":157,"column":4,"offset":6217},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Download all the cpe overrides files to your working directory ","position":{"start":{"line":159,"column":1,"offset":6219},"end":{"line":159,"column":64,"offset":6282},"indent":[]}}],"position":{"start":{"line":159,"column":1,"offset":6219},"end":{"line":159,"column":64,"offset":6282},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/assets/automation/cpe/configDropins/overrides/GCD.xml","children":[{"type":"inlineCode","value":"GCD.xml","position":{"start":{"line":160,"column":5,"offset":6287},"end":{"line":160,"column":14,"offset":6296},"indent":[]}}],"position":{"start":{"line":160,"column":4,"offset":6286},"end":{"line":160,"column":71,"offset":6353},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":160,"column":71,"offset":6353},"end":{"line":160,"column":72,"offset":6354},"indent":[]}}],"position":{"start":{"line":160,"column":4,"offset":6286},"end":{"line":160,"column":72,"offset":6354},"indent":[]}}],"position":{"start":{"line":160,"column":1,"offset":6283},"end":{"line":160,"column":72,"offset":6354},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/assets/automation/cpe/configDropins/overrides/OBJSTORE.xml","children":[{"type":"inlineCode","value":"OBJSTORE.xml","position":{"start":{"line":161,"column":5,"offset":6359},"end":{"line":161,"column":19,"offset":6373},"indent":[]}}],"position":{"start":{"line":161,"column":4,"offset":6358},"end":{"line":161,"column":81,"offset":6435},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":161,"column":81,"offset":6435},"end":{"line":161,"column":82,"offset":6436},"indent":[]}}],"position":{"start":{"line":161,"column":4,"offset":6358},"end":{"line":161,"column":82,"offset":6436},"indent":[]}}],"position":{"start":{"line":161,"column":1,"offset":6355},"end":{"line":161,"column":82,"offset":6436},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/assets/automation/cpe/configDropins/overrides/DB2JCCDriver.xml","children":[{"type":"inlineCode","value":"DB2JCCDriver.xml","position":{"start":{"line":162,"column":5,"offset":6441},"end":{"line":162,"column":23,"offset":6459},"indent":[]}}],"position":{"start":{"line":162,"column":4,"offset":6440},"end":{"line":162,"column":89,"offset":6525},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":162,"column":89,"offset":6525},"end":{"line":162,"column":90,"offset":6526},"indent":[]}}],"position":{"start":{"line":162,"column":4,"offset":6440},"end":{"line":162,"column":90,"offset":6526},"indent":[]}}],"position":{"start":{"line":162,"column":1,"offset":6437},"end":{"line":162,"column":90,"offset":6526},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/assets/automation/cpe/configDropins/overrides/ldap_TDS.xml","children":[{"type":"inlineCode","value":"ldap_TDS.xml","position":{"start":{"line":163,"column":5,"offset":6531},"end":{"line":163,"column":19,"offset":6545},"indent":[]}}],"position":{"start":{"line":163,"column":4,"offset":6530},"end":{"line":163,"column":81,"offset":6607},"indent":[]}},{"type":"text","value":"  ","position":{"start":{"line":163,"column":81,"offset":6607},"end":{"line":163,"column":83,"offset":6609},"indent":[]}}],"position":{"start":{"line":163,"column":4,"offset":6530},"end":{"line":163,"column":83,"offset":6609},"indent":[]}}],"position":{"start":{"line":163,"column":1,"offset":6527},"end":{"line":163,"column":83,"offset":6609},"indent":[]}}],"position":{"start":{"line":160,"column":1,"offset":6283},"end":{"line":163,"column":83,"offset":6609},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you changed the database names in the database creation step above, you will also need to change them in GCD.xml and OBJSTORE.xml here  ","position":{"start":{"line":166,"column":1,"offset":6612},"end":{"line":166,"column":140,"offset":6751},"indent":[]}}],"position":{"start":{"line":166,"column":1,"offset":6612},"end":{"line":166,"column":140,"offset":6751},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Edit GCD.xml, replacing ","position":{"start":{"line":168,"column":1,"offset":6753},"end":{"line":168,"column":25,"offset":6777},"indent":[]}},{"type":"inlineCode","value":"<ip-address>","position":{"start":{"line":168,"column":25,"offset":6777},"end":{"line":168,"column":39,"offset":6791},"indent":[]}},{"type":"text","value":" with the ip-address of the database server, and possibly the database name.","position":{"start":{"line":168,"column":39,"offset":6791},"end":{"line":168,"column":115,"offset":6867},"indent":[]}},{"type":"break","position":{"start":{"line":168,"column":115,"offset":6867},"end":{"line":169,"column":1,"offset":6870},"indent":[1]}},{"type":"text","value":"Edit OBJSTORE.xml, replacing ","position":{"start":{"line":169,"column":1,"offset":6870},"end":{"line":169,"column":30,"offset":6899},"indent":[]}},{"type":"inlineCode","value":"<ip-address>","position":{"start":{"line":169,"column":30,"offset":6899},"end":{"line":169,"column":44,"offset":6913},"indent":[]}},{"type":"text","value":" with the ip-address of the database server, and possibly the database name.\nDB2JCCDriver.xml contains the locations of the db2jcc4.jar and db2jcc_license_cu.jar files.","position":{"start":{"line":169,"column":44,"offset":6913},"end":{"line":170,"column":92,"offset":7081},"indent":[1]}},{"type":"break","position":{"start":{"line":170,"column":92,"offset":7081},"end":{"line":171,"column":1,"offset":7084},"indent":[1]}},{"type":"text","value":"Edit ldap_TDS.xml, replacing ","position":{"start":{"line":171,"column":1,"offset":7084},"end":{"line":171,"column":30,"offset":7113},"indent":[]}},{"type":"inlineCode","value":"<ip-address>","position":{"start":{"line":171,"column":30,"offset":7113},"end":{"line":171,"column":44,"offset":7127},"indent":[]}},{"type":"text","value":" with the ip-address of the LDAP server.  ","position":{"start":{"line":171,"column":44,"offset":7127},"end":{"line":171,"column":86,"offset":7169},"indent":[]}}],"position":{"start":{"line":168,"column":1,"offset":6753},"end":{"line":171,"column":86,"offset":7169},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Then then run the following commands:","position":{"start":{"line":173,"column":1,"offset":7171},"end":{"line":173,"column":38,"offset":7208},"indent":[]}}],"position":{"start":{"line":173,"column":1,"offset":7171},"end":{"line":173,"column":38,"offset":7208},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"cp DB2JCCDriver.xml /data/persistentvolumes/cpe/configDropins/overrides/\ncp GCD.xml /data/persistentvolumes/cpe/configDropins/overrides/\ncp ldap_TDS.xml /data/persistentvolumes/cpe/configDropins/overrides/\ncp OBJSTORE.xml /data/persistentvolumes/cpe/configDropins/overrides/","position":{"start":{"line":175,"column":1,"offset":7210},"end":{"line":180,"column":4,"offset":7492},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Download the cmis overrides files to your working directory. You may get a warning because the same filename is used by cpe.  ","position":{"start":{"line":181,"column":1,"offset":7493},"end":{"line":181,"column":127,"offset":7619},"indent":[]}}],"position":{"start":{"line":181,"column":1,"offset":7493},"end":{"line":181,"column":127,"offset":7619},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/assets/automation/cmis/configDropins/overrides/ldap_TDS.xml","children":[{"type":"inlineCode","value":"ldap_TDS.xml","position":{"start":{"line":183,"column":5,"offset":7625},"end":{"line":183,"column":19,"offset":7639},"indent":[]}}],"position":{"start":{"line":183,"column":4,"offset":7624},"end":{"line":183,"column":82,"offset":7702},"indent":[]}},{"type":"text","value":"    ","position":{"start":{"line":183,"column":82,"offset":7702},"end":{"line":183,"column":86,"offset":7706},"indent":[]}}],"position":{"start":{"line":183,"column":4,"offset":7624},"end":{"line":183,"column":86,"offset":7706},"indent":[]}}],"position":{"start":{"line":183,"column":1,"offset":7621},"end":{"line":184,"column":2,"offset":7708},"indent":[1]}}],"position":{"start":{"line":183,"column":1,"offset":7621},"end":{"line":184,"column":2,"offset":7708},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Edit ldap_TDS.xml, replacing ","position":{"start":{"line":185,"column":1,"offset":7709},"end":{"line":185,"column":30,"offset":7738},"indent":[]}},{"type":"inlineCode","value":"<ip-address>","position":{"start":{"line":185,"column":30,"offset":7738},"end":{"line":185,"column":44,"offset":7752},"indent":[]}},{"type":"text","value":" with the ip-address of the LDAP server","position":{"start":{"line":185,"column":44,"offset":7752},"end":{"line":185,"column":83,"offset":7791},"indent":[]}},{"type":"break","position":{"start":{"line":185,"column":83,"offset":7791},"end":{"line":186,"column":1,"offset":7794},"indent":[1]}},{"type":"text","value":"Then then run the following command:","position":{"start":{"line":186,"column":1,"offset":7794},"end":{"line":186,"column":37,"offset":7830},"indent":[]}}],"position":{"start":{"line":185,"column":1,"offset":7709},"end":{"line":186,"column":37,"offset":7830},"indent":[1]}},{"type":"code","lang":null,"meta":null,"value":"cp ldap_TDS.xml /data/persistentvolumes/cmis/configDropins/overrides/","position":{"start":{"line":187,"column":1,"offset":7831},"end":{"line":189,"column":4,"offset":7908},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Download the ","position":{"start":{"line":191,"column":1,"offset":7910},"end":{"line":191,"column":14,"offset":7923},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/css/cssSelfsignedServerStore","children":[{"type":"inlineCode","value":"cssSelfsignedServerStore","position":{"start":{"line":191,"column":15,"offset":7924},"end":{"line":191,"column":41,"offset":7950},"indent":[]}}],"position":{"start":{"line":191,"column":14,"offset":7923},"end":{"line":191,"column":91,"offset":8000},"indent":[]}},{"type":"text","value":" file to your working directory then run the following command:","position":{"start":{"line":191,"column":91,"offset":8000},"end":{"line":191,"column":154,"offset":8063},"indent":[]}}],"position":{"start":{"line":191,"column":1,"offset":7910},"end":{"line":191,"column":154,"offset":8063},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"cp cssSelfsignedServerStore /data/persistentvolumes/css/CSS_Server/data","position":{"start":{"line":193,"column":1,"offset":8065},"end":{"line":195,"column":4,"offset":8144},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Download the PV configuration files to your working directory.","position":{"start":{"line":197,"column":1,"offset":8146},"end":{"line":197,"column":63,"offset":8208},"indent":[]}}],"position":{"start":{"line":197,"column":1,"offset":8146},"end":{"line":197,"column":63,"offset":8208},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/assets/automation/cpe/cpe-pv.yaml","children":[{"type":"inlineCode","value":"cpe-pv.yaml","position":{"start":{"line":198,"column":5,"offset":8213},"end":{"line":198,"column":18,"offset":8226},"indent":[]}}],"position":{"start":{"line":198,"column":4,"offset":8212},"end":{"line":198,"column":55,"offset":8263},"indent":[]}}],"position":{"start":{"line":198,"column":4,"offset":8212},"end":{"line":198,"column":55,"offset":8263},"indent":[]}}],"position":{"start":{"line":198,"column":1,"offset":8209},"end":{"line":198,"column":55,"offset":8263},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/assets/automation/css/css-pv.yaml","children":[{"type":"inlineCode","value":"css-pv.yaml","position":{"start":{"line":199,"column":5,"offset":8268},"end":{"line":199,"column":18,"offset":8281},"indent":[]}}],"position":{"start":{"line":199,"column":4,"offset":8267},"end":{"line":199,"column":55,"offset":8318},"indent":[]}}],"position":{"start":{"line":199,"column":4,"offset":8267},"end":{"line":199,"column":55,"offset":8318},"indent":[]}}],"position":{"start":{"line":199,"column":1,"offset":8264},"end":{"line":199,"column":55,"offset":8318},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/assets/automation/cmis/cmis-pv.yaml","children":[{"type":"inlineCode","value":"cmis-pv.yaml","position":{"start":{"line":200,"column":5,"offset":8323},"end":{"line":200,"column":19,"offset":8337},"indent":[]}}],"position":{"start":{"line":200,"column":4,"offset":8322},"end":{"line":200,"column":58,"offset":8376},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":200,"column":58,"offset":8376},"end":{"line":200,"column":59,"offset":8377},"indent":[]}}],"position":{"start":{"line":200,"column":4,"offset":8322},"end":{"line":200,"column":59,"offset":8377},"indent":[]}}],"position":{"start":{"line":200,"column":1,"offset":8319},"end":{"line":200,"column":59,"offset":8377},"indent":[]}}],"position":{"start":{"line":198,"column":1,"offset":8209},"end":{"line":200,"column":59,"offset":8377},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Edit each file. Replace the placeholder ","position":{"start":{"line":202,"column":1,"offset":8379},"end":{"line":202,"column":41,"offset":8419},"indent":[]}},{"type":"inlineCode","value":"<ip-address>","position":{"start":{"line":202,"column":41,"offset":8419},"end":{"line":202,"column":55,"offset":8433},"indent":[]}},{"type":"text","value":" placeholder with the IP address of NFS server and adjust the persistent volume path if needed.","position":{"start":{"line":202,"column":55,"offset":8433},"end":{"line":202,"column":150,"offset":8528},"indent":[]}}],"position":{"start":{"line":202,"column":1,"offset":8379},"end":{"line":202,"column":150,"offset":8528},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Run the following commands to create the PVs:","position":{"start":{"line":204,"column":1,"offset":8530},"end":{"line":204,"column":46,"offset":8575},"indent":[]}}],"position":{"start":{"line":204,"column":1,"offset":8530},"end":{"line":204,"column":46,"offset":8575},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc apply -f cpe-pv.yaml\noc apply -f css-pv.yaml\noc apply -f cmis-pv.yaml","position":{"start":{"line":206,"column":1,"offset":8577},"end":{"line":210,"column":4,"offset":8657},"indent":[1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Create secrets","position":{"start":{"line":212,"column":5,"offset":8663},"end":{"line":212,"column":19,"offset":8677},"indent":[]}}],"position":{"start":{"line":212,"column":1,"offset":8659},"end":{"line":212,"column":19,"offset":8677},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The Helm charts requires a secret in order to pull images from docker You might need to change the address of the docker server.","position":{"start":{"line":213,"column":1,"offset":8678},"end":{"line":213,"column":129,"offset":8806},"indent":[]}}],"position":{"start":{"line":213,"column":1,"offset":8678},"end":{"line":213,"column":129,"offset":8806},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc create secret docker-registry admin.registrykey --docker-server=docker-registry.default.svc:5000 --docker-username=$(oc whoami) --docker-password=$(oc whoami -t) -n ecmproject","position":{"start":{"line":214,"column":1,"offset":8807},"end":{"line":216,"column":4,"offset":8993},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Note that you cannot add the same secret more than once. If you need to delete a secret in order to create a new one, use the following command:  ","position":{"start":{"line":218,"column":1,"offset":8995},"end":{"line":218,"column":147,"offset":9141},"indent":[]}}],"position":{"start":{"line":218,"column":1,"offset":8995},"end":{"line":218,"column":147,"offset":9141},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc delete secret admin.registrykey -n ecmproject","position":{"start":{"line":219,"column":1,"offset":9142},"end":{"line":221,"column":4,"offset":9198},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Install the ECM components","position":{"start":{"line":223,"column":5,"offset":9204},"end":{"line":223,"column":31,"offset":9230},"indent":[]}}],"position":{"start":{"line":223,"column":1,"offset":9200},"end":{"line":223,"column":31,"offset":9230},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Download these files to your working directory.","position":{"start":{"line":224,"column":1,"offset":9231},"end":{"line":224,"column":48,"offset":9278},"indent":[]}}],"position":{"start":{"line":224,"column":1,"offset":9231},"end":{"line":224,"column":48,"offset":9278},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/assets/automation/cpe/cpe-values.yaml","children":[{"type":"inlineCode","value":"cpe-values.yaml","position":{"start":{"line":225,"column":5,"offset":9283},"end":{"line":225,"column":22,"offset":9300},"indent":[]}}],"position":{"start":{"line":225,"column":4,"offset":9282},"end":{"line":225,"column":63,"offset":9341},"indent":[]}}],"position":{"start":{"line":225,"column":4,"offset":9282},"end":{"line":225,"column":63,"offset":9341},"indent":[]}}],"position":{"start":{"line":225,"column":1,"offset":9279},"end":{"line":225,"column":63,"offset":9341},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/assets/automation/css/css-values.yaml","children":[{"type":"inlineCode","value":"css-values.yaml","position":{"start":{"line":226,"column":5,"offset":9346},"end":{"line":226,"column":22,"offset":9363},"indent":[]}}],"position":{"start":{"line":226,"column":4,"offset":9345},"end":{"line":226,"column":63,"offset":9404},"indent":[]}}],"position":{"start":{"line":226,"column":4,"offset":9345},"end":{"line":226,"column":63,"offset":9404},"indent":[]}}],"position":{"start":{"line":226,"column":1,"offset":9342},"end":{"line":226,"column":63,"offset":9404},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/assets/automation/cmis/cmis-values.yaml","children":[{"type":"inlineCode","value":"cmis-values.yaml","position":{"start":{"line":227,"column":5,"offset":9409},"end":{"line":227,"column":23,"offset":9427},"indent":[]}}],"position":{"start":{"line":227,"column":4,"offset":9408},"end":{"line":227,"column":66,"offset":9470},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":227,"column":66,"offset":9470},"end":{"line":227,"column":67,"offset":9471},"indent":[]}}],"position":{"start":{"line":227,"column":4,"offset":9408},"end":{"line":227,"column":67,"offset":9471},"indent":[]}}],"position":{"start":{"line":227,"column":1,"offset":9405},"end":{"line":227,"column":67,"offset":9471},"indent":[]}}],"position":{"start":{"line":225,"column":1,"offset":9279},"end":{"line":227,"column":67,"offset":9471},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Download the Helm charts to your working directory:","position":{"start":{"line":229,"column":1,"offset":9473},"end":{"line":229,"column":52,"offset":9524},"indent":[]}}],"position":{"start":{"line":229,"column":1,"offset":9473},"end":{"line":229,"column":52,"offset":9524},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"wget https://github.com/icp4a/cert-kubernetes/raw/master/CONTENT/helm-charts/ibm-dba-contentservices-3.0.0.tgz\nwget https://github.com/icp4a/cert-kubernetes/raw/master/CONTENT/helm-charts/ibm-dba-contentsearch-3.0.0.tgz\nwget https://github.com/icp4a/cert-kubernetes/raw/master/CONTENT/helm-charts/ibm-dba-cscmis-1.7.0.tgz","position":{"start":{"line":231,"column":1,"offset":9526},"end":{"line":235,"column":4,"offset":9855},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Install the Helm charts of CPE and Content Search:","position":{"start":{"line":236,"column":1,"offset":9856},"end":{"line":236,"column":51,"offset":9906},"indent":[]}}],"position":{"start":{"line":236,"column":1,"offset":9856},"end":{"line":236,"column":51,"offset":9906},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"helm install ibm-dba-contentservices-3.0.0.tgz --name cpe-prod-release --namespace ecmproject -f cpe-values.yaml\nhelm install ibm-dba-contentsearch-3.0.0.tgz --name css-prod-release --namespace ecmproject -f css-values.yaml","position":{"start":{"line":237,"column":1,"offset":9907},"end":{"line":240,"column":4,"offset":10138},"indent":[1,1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Expose the ACCE console service","position":{"start":{"line":242,"column":4,"offset":10143},"end":{"line":242,"column":35,"offset":10174},"indent":[]}}],"position":{"start":{"line":242,"column":4,"offset":10143},"end":{"line":242,"column":35,"offset":10174},"indent":[]}}],"position":{"start":{"line":242,"column":1,"offset":10140},"end":{"line":242,"column":35,"offset":10174},"indent":[]}}],"position":{"start":{"line":242,"column":1,"offset":10140},"end":{"line":242,"column":35,"offset":10174},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Download the ","position":{"start":{"line":244,"column":1,"offset":10176},"end":{"line":244,"column":14,"offset":10189},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/cpe/cpe-route.yaml","children":[{"type":"inlineCode","value":"cpe-route.yaml","position":{"start":{"line":244,"column":15,"offset":10190},"end":{"line":244,"column":31,"offset":10206},"indent":[]}}],"position":{"start":{"line":244,"column":14,"offset":10189},"end":{"line":244,"column":71,"offset":10246},"indent":[]}},{"type":"text","value":" file to your working directory and run the following command:","position":{"start":{"line":244,"column":71,"offset":10246},"end":{"line":244,"column":133,"offset":10308},"indent":[]}}],"position":{"start":{"line":244,"column":1,"offset":10176},"end":{"line":244,"column":133,"offset":10308},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc apply -f cpe-route.yaml","position":{"start":{"line":245,"column":1,"offset":10309},"end":{"line":247,"column":4,"offset":10343},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Find the URL of CPE web service using the command:","position":{"start":{"line":248,"column":1,"offset":10344},"end":{"line":248,"column":51,"offset":10394},"indent":[]}}],"position":{"start":{"line":248,"column":1,"offset":10344},"end":{"line":248,"column":51,"offset":10394},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc get routes","position":{"start":{"line":249,"column":1,"offset":10395},"end":{"line":251,"column":4,"offset":10416},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The URL should be something like: ","position":{"start":{"line":253,"column":1,"offset":10418},"end":{"line":253,"column":35,"offset":10452},"indent":[]}},{"type":"inlineCode","value":"http://cpe-prod-release-ibm-dba-contentservices-http-ecmproject.router.default.svc.cluster.local/wsi/FNCEWS40MTOM","position":{"start":{"line":253,"column":35,"offset":10452},"end":{"line":253,"column":150,"offset":10567},"indent":[]}}],"position":{"start":{"line":253,"column":1,"offset":10418},"end":{"line":253,"column":150,"offset":10567},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Edit the file cmis-values.yaml and change the attribute ","position":{"start":{"line":255,"column":1,"offset":10569},"end":{"line":255,"column":57,"offset":10625},"indent":[]}},{"type":"inlineCode","value":"cpeURL","position":{"start":{"line":255,"column":57,"offset":10625},"end":{"line":255,"column":65,"offset":10633},"indent":[]}},{"type":"text","value":" then install the Helm chart of CMIS:","position":{"start":{"line":255,"column":65,"offset":10633},"end":{"line":255,"column":102,"offset":10670},"indent":[]}}],"position":{"start":{"line":255,"column":1,"offset":10569},"end":{"line":255,"column":102,"offset":10670},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"helm install ibm-dba-cscmis-1.7.0.tgz --name cmis-prod-release --namespace ecmproject -f cmis-values.yaml","position":{"start":{"line":256,"column":1,"offset":10671},"end":{"line":258,"column":4,"offset":10784},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Open ACCE console in a browser","position":{"start":{"line":261,"column":5,"offset":10791},"end":{"line":261,"column":35,"offset":10821},"indent":[]}}],"position":{"start":{"line":261,"column":1,"offset":10787},"end":{"line":261,"column":35,"offset":10821},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To retrieve the ACCE console service URL, first find the URL of the OCP cluster console:  ","position":{"start":{"line":263,"column":1,"offset":10823},"end":{"line":263,"column":91,"offset":10913},"indent":[]}}],"position":{"start":{"line":263,"column":1,"offset":10823},"end":{"line":263,"column":91,"offset":10913},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc get route -n openshift-console\n","position":{"start":{"line":265,"column":1,"offset":10915},"end":{"line":268,"column":4,"offset":10957},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"which will return something like this:","position":{"start":{"line":270,"column":1,"offset":10959},"end":{"line":270,"column":39,"offset":10997},"indent":[]}}],"position":{"start":{"line":270,"column":1,"offset":10959},"end":{"line":270,"column":39,"offset":10997},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"NAME      HOST/PORT                                   PATH      SERVICES   PORT      TERMINATION          WILDCARD\nconsole   console.apps-cp4a-res.rtp.raleigh.ibm.com             console    https     reencrypt/Redirect   None","position":{"start":{"line":272,"column":1,"offset":10999},"end":{"line":275,"column":4,"offset":11232},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Open the Host/Port in a browser. Select the ecmproject. On the left, select Networking, and the routes. This will give you the base URL for ACCE. Append /acce to that url. That should take you to the ACCE page.","position":{"start":{"line":277,"column":1,"offset":11234},"end":{"line":277,"column":211,"offset":11444},"indent":[]}}],"position":{"start":{"line":277,"column":1,"offset":11234},"end":{"line":277,"column":211,"offset":11444},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The user name is ","position":{"start":{"line":279,"column":1,"offset":11446},"end":{"line":279,"column":18,"offset":11463},"indent":[]}},{"type":"inlineCode","value":"ceadmin","position":{"start":{"line":279,"column":18,"offset":11463},"end":{"line":279,"column":27,"offset":11472},"indent":[]}},{"type":"text","value":" and the password is ","position":{"start":{"line":279,"column":27,"offset":11472},"end":{"line":279,"column":48,"offset":11493},"indent":[]}},{"type":"inlineCode","value":"Passw0rd","position":{"start":{"line":279,"column":48,"offset":11493},"end":{"line":279,"column":58,"offset":11503},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":279,"column":58,"offset":11503},"end":{"line":279,"column":59,"offset":11504},"indent":[]}}],"position":{"start":{"line":279,"column":1,"offset":11446},"end":{"line":279,"column":59,"offset":11504},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Post-install tasks","position":{"start":{"line":281,"column":5,"offset":11510},"end":{"line":281,"column":23,"offset":11528},"indent":[]}}],"position":{"start":{"line":281,"column":1,"offset":11506},"end":{"line":281,"column":23,"offset":11528},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"There is a set of steps you need to execute to complete the installation of CPE.","position":{"start":{"line":283,"column":1,"offset":11530},"end":{"line":283,"column":81,"offset":11610},"indent":[]}}],"position":{"start":{"line":283,"column":1,"offset":11530},"end":{"line":283,"column":81,"offset":11610},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.ibm.com/support/knowledgecenter/SSNW2F_5.5.0/com.ibm.p8.install.doc/p8pin328.htm","children":[{"type":"text","value":"Create the FileNet P8 domain","position":{"start":{"line":285,"column":5,"offset":11616},"end":{"line":285,"column":33,"offset":11644},"indent":[]}}],"position":{"start":{"line":285,"column":4,"offset":11615},"end":{"line":285,"column":128,"offset":11739},"indent":[]}}],"position":{"start":{"line":285,"column":4,"offset":11615},"end":{"line":285,"column":128,"offset":11739},"indent":[]}}],"position":{"start":{"line":285,"column":1,"offset":11612},"end":{"line":285,"column":128,"offset":11739},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.ibm.com/support/knowledgecenter/SSNW2F_5.5.0/com.ibm.p8.install.doc/p8pin327.htm","children":[{"type":"text","value":"Create the database connection","position":{"start":{"line":286,"column":5,"offset":11744},"end":{"line":286,"column":35,"offset":11774},"indent":[]}}],"position":{"start":{"line":286,"column":4,"offset":11743},"end":{"line":286,"column":130,"offset":11869},"indent":[]}}],"position":{"start":{"line":286,"column":4,"offset":11743},"end":{"line":286,"column":130,"offset":11869},"indent":[]}}],"position":{"start":{"line":286,"column":1,"offset":11740},"end":{"line":286,"column":130,"offset":11869},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.ibm.com/support/knowledgecenter/SSNW2F_5.5.0/com.ibm.p8.install.doc/p8pin034.htm","children":[{"type":"text","value":"Create an initial object store","position":{"start":{"line":287,"column":5,"offset":11874},"end":{"line":287,"column":35,"offset":11904},"indent":[]}}],"position":{"start":{"line":287,"column":4,"offset":11873},"end":{"line":287,"column":131,"offset":12000},"indent":[]}}],"position":{"start":{"line":287,"column":4,"offset":11873},"end":{"line":287,"column":131,"offset":12000},"indent":[]}}],"position":{"start":{"line":287,"column":1,"offset":11870},"end":{"line":287,"column":131,"offset":12000},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.ibm.com/support/knowledgecenter/en/SSNW2F_5.5.0/com.ibm.p8.ce.admin.tasks.doc/featureaddons/fa_install_addon.htm","children":[{"type":"text","value":"Install the necessary add-ons to the object store","position":{"start":{"line":288,"column":5,"offset":12005},"end":{"line":288,"column":54,"offset":12054},"indent":[]}}],"position":{"start":{"line":288,"column":4,"offset":12004},"end":{"line":288,"column":181,"offset":12181},"indent":[]}},{"type":"text","value":": This step can be done in the previous step while creating the object store. The following add-ons can be activated:\n","position":{"start":{"line":288,"column":181,"offset":12181},"end":{"line":289,"column":2,"offset":12300},"indent":[2]}},{"type":"image","title":null,"url":"/assets/automation/images/ObjectStoreAddOns.jpg","alt":"Add-ons","position":{"start":{"line":289,"column":2,"offset":12300},"end":{"line":289,"column":61,"offset":12359},"indent":[]}}],"position":{"start":{"line":288,"column":4,"offset":12004},"end":{"line":289,"column":61,"offset":12359},"indent":[2]}}],"position":{"start":{"line":288,"column":1,"offset":12001},"end":{"line":290,"column":1,"offset":12360},"indent":[1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.ibm.com/support/knowledgecenter/en/SSYHZ8_19.0.x/com.ibm.dba.install/k8s_topics/tsk_configcpe_css.html","children":[{"type":"text","value":"Configure CPE for Content Search Service","position":{"start":{"line":291,"column":5,"offset":12365},"end":{"line":291,"column":45,"offset":12405},"indent":[]}}],"position":{"start":{"line":291,"column":4,"offset":12364},"end":{"line":291,"column":162,"offset":12522},"indent":[]}}],"position":{"start":{"line":291,"column":4,"offset":12364},"end":{"line":291,"column":162,"offset":12522},"indent":[]}}],"position":{"start":{"line":291,"column":1,"offset":12361},"end":{"line":292,"column":2,"offset":12524},"indent":[1]}}],"position":{"start":{"line":285,"column":1,"offset":11612},"end":{"line":292,"column":2,"offset":12524},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Here is the complete documentation for post-installation tasks:","position":{"start":{"line":293,"column":1,"offset":12525},"end":{"line":293,"column":64,"offset":12588},"indent":[]}}],"position":{"start":{"line":293,"column":1,"offset":12525},"end":{"line":293,"column":64,"offset":12588},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.ibm.com/support/knowledgecenter/en/SSYHZ8_19.0.x/com.ibm.dba.install/k8s_topics/tsk_deploy_postecmdeployk8s.html","children":[{"type":"text","value":"Completing post-deployment tasks for IBM FileNet Content Manager","position":{"start":{"line":295,"column":4,"offset":12593},"end":{"line":295,"column":68,"offset":12657},"indent":[]}}],"position":{"start":{"line":295,"column":3,"offset":12592},"end":{"line":295,"column":195,"offset":12784},"indent":[]}}],"position":{"start":{"line":295,"column":3,"offset":12592},"end":{"line":295,"column":195,"offset":12784},"indent":[]}}],"position":{"start":{"line":295,"column":1,"offset":12590},"end":{"line":295,"column":195,"offset":12784},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.ibm.com/support/knowledgecenter/SSGLW6_5.5.0/com.ibm.p8toc.doc/p8_worksheet.xls","children":[{"type":"text","value":"Installation and Upgrade Worksheet","position":{"start":{"line":296,"column":4,"offset":12788},"end":{"line":296,"column":38,"offset":12822},"indent":[]}}],"position":{"start":{"line":296,"column":3,"offset":12787},"end":{"line":296,"column":132,"offset":12916},"indent":[]}}],"position":{"start":{"line":296,"column":3,"offset":12787},"end":{"line":296,"column":132,"offset":12916},"indent":[]}}],"position":{"start":{"line":296,"column":1,"offset":12785},"end":{"line":296,"column":132,"offset":12916},"indent":[]}}],"position":{"start":{"line":295,"column":1,"offset":12590},"end":{"line":296,"column":132,"offset":12916},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Uninstall","position":{"start":{"line":298,"column":5,"offset":12922},"end":{"line":298,"column":14,"offset":12931},"indent":[]}}],"position":{"start":{"line":298,"column":1,"offset":12918},"end":{"line":298,"column":14,"offset":12931},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If needed, run the following steps to uninstall ECM:","position":{"start":{"line":299,"column":1,"offset":12932},"end":{"line":299,"column":53,"offset":12984},"indent":[]}}],"position":{"start":{"line":299,"column":1,"offset":12932},"end":{"line":299,"column":53,"offset":12984},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"helm delete cpe-prod-release --purge\nhelm delete css-prod-release --purge\nhelm delete cmis-prod-release --purge\n\n# delete the cpe route\noc delete -f cpe-route.yaml","position":{"start":{"line":301,"column":1,"offset":12986},"end":{"line":308,"column":4,"offset":13157},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"To delete the persisted data of the release, you can delete the PVCs using the following commands:","position":{"start":{"line":310,"column":1,"offset":13159},"end":{"line":310,"column":99,"offset":13257},"indent":[]}}],"position":{"start":{"line":310,"column":1,"offset":13159},"end":{"line":310,"column":99,"offset":13257},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc delete pvc cmis-cfgstore-pvc\noc delete pvc cmis-logstore-pvc\noc delete pvc cpe-bootstrap-pvc\noc delete pvc cpe-cfgstore-pvc\noc delete pvc cpe-filestore-pvc\noc delete pvc cpe-fnlogstore-pvc\noc delete pvc cpe-icmrules-pvc\noc delete pvc cpe-logstore-pvc\noc delete pvc cpe-textext-pvc\noc delete pvc cs-customstore-pvc\noc delete pvc css-cfgstore-pvc\noc delete pvc css-indexstore-pvc\noc delete pvc css-logstore-pvc\noc delete pvc css-tempstore-pvc\n\noc delete -f cpe-pv.yaml\noc delete -f css-pv.yaml\noc delete -f cmis-pv.yaml  ","position":{"start":{"line":312,"column":1,"offset":13259},"end":{"line":331,"column":4,"offset":13789},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You can delete the Docker secret","position":{"start":{"line":333,"column":1,"offset":13791},"end":{"line":333,"column":33,"offset":13823},"indent":[]}}],"position":{"start":{"line":333,"column":1,"offset":13791},"end":{"line":333,"column":33,"offset":13823},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc delete secret admin.registrykey -n ecmproject","position":{"start":{"line":334,"column":1,"offset":13824},"end":{"line":336,"column":4,"offset":13880},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Ask your database administrator to delete the db2 instances.","position":{"start":{"line":338,"column":1,"offset":13882},"end":{"line":338,"column":61,"offset":13942},"indent":[]}}],"position":{"start":{"line":338,"column":1,"offset":13882},"end":{"line":338,"column":61,"offset":13942},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Troubleshooting","position":{"start":{"line":341,"column":5,"offset":13949},"end":{"line":341,"column":20,"offset":13964},"indent":[]}}],"position":{"start":{"line":341,"column":1,"offset":13945},"end":{"line":341,"column":20,"offset":13964},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Check the pods for the ecmproject. This will show the overall health.","position":{"start":{"line":343,"column":1,"offset":13966},"end":{"line":343,"column":70,"offset":14035},"indent":[]}}],"position":{"start":{"line":343,"column":1,"offset":13966},"end":{"line":343,"column":70,"offset":14035},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc get pods -n ecmproject","position":{"start":{"line":345,"column":1,"offset":14037},"end":{"line":347,"column":4,"offset":14070},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Common problems:","position":{"start":{"line":349,"column":1,"offset":14072},"end":{"line":349,"column":17,"offset":14088},"indent":[]}}],"position":{"start":{"line":349,"column":1,"offset":14072},"end":{"line":349,"column":17,"offset":14088},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The registry might have run out of space. ","position":{"start":{"line":350,"column":4,"offset":14092},"end":{"line":350,"column":46,"offset":14134},"indent":[]}}],"position":{"start":{"line":350,"column":4,"offset":14092},"end":{"line":350,"column":46,"offset":14134},"indent":[]}}],"position":{"start":{"line":350,"column":1,"offset":14089},"end":{"line":350,"column":46,"offset":14134},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Check that you're pulling from the docker registry that you uploaded to.","position":{"start":{"line":351,"column":4,"offset":14138},"end":{"line":351,"column":76,"offset":14210},"indent":[]}}],"position":{"start":{"line":351,"column":4,"offset":14138},"end":{"line":351,"column":76,"offset":14210},"indent":[]}}],"position":{"start":{"line":351,"column":1,"offset":14135},"end":{"line":351,"column":76,"offset":14210},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Review the security secret. ","position":{"start":{"line":352,"column":4,"offset":14214},"end":{"line":352,"column":32,"offset":14242},"indent":[]}}],"position":{"start":{"line":352,"column":4,"offset":14214},"end":{"line":352,"column":32,"offset":14242},"indent":[]}}],"position":{"start":{"line":352,"column":1,"offset":14211},"end":{"line":352,"column":32,"offset":14242},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Docker might be configured incorrectly.  ","position":{"start":{"line":353,"column":4,"offset":14246},"end":{"line":353,"column":45,"offset":14287},"indent":[]}}],"position":{"start":{"line":353,"column":4,"offset":14246},"end":{"line":353,"column":45,"offset":14287},"indent":[]}}],"position":{"start":{"line":353,"column":1,"offset":14243},"end":{"line":354,"column":2,"offset":14289},"indent":[1]}}],"position":{"start":{"line":350,"column":1,"offset":14089},"end":{"line":354,"column":2,"offset":14289},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Make sure all five images were uploaded correctly. Check for errors in the ","position":{"start":{"line":356,"column":1,"offset":14291},"end":{"line":356,"column":76,"offset":14366},"indent":[]}},{"type":"inlineCode","value":"./loadimages.sh","position":{"start":{"line":356,"column":76,"offset":14366},"end":{"line":356,"column":93,"offset":14383},"indent":[]}},{"type":"text","value":" step earlier.   ","position":{"start":{"line":356,"column":93,"offset":14383},"end":{"line":356,"column":110,"offset":14400},"indent":[]}}],"position":{"start":{"line":356,"column":1,"offset":14291},"end":{"line":356,"column":110,"offset":14400},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc get imagestreams -n ecmproject","position":{"start":{"line":358,"column":1,"offset":14402},"end":{"line":360,"column":4,"offset":14443},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Use the oc describe pod to get a better idea of what failed:   ","position":{"start":{"line":362,"column":1,"offset":14445},"end":{"line":362,"column":64,"offset":14508},"indent":[]}}],"position":{"start":{"line":362,"column":1,"offset":14445},"end":{"line":362,"column":64,"offset":14508},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc describe pod <pod name> -n ecmproject","position":{"start":{"line":364,"column":1,"offset":14510},"end":{"line":366,"column":4,"offset":14558},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Run oc logs to view the pod's log files","position":{"start":{"line":368,"column":1,"offset":14560},"end":{"line":368,"column":40,"offset":14599},"indent":[]}}],"position":{"start":{"line":368,"column":1,"offset":14560},"end":{"line":368,"column":40,"offset":14599},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc logs <pod name> -n ecmproject\n","position":{"start":{"line":370,"column":1,"offset":14601},"end":{"line":373,"column":4,"offset":14642},"indent":[1,1,1]}},{"type":"export","value":"export const _frontmatter = {}","position":{"start":{"line":381,"column":1,"offset":14650},"end":{"line":381,"column":31,"offset":14680},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":381,"column":31,"offset":14680}}},"scopeImports":[],"scopeIdentifiers":[],"rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport DefaultLayout from \"/Users/davethiessen/github/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\"\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <ul>\n      <li parentName=\"ul\"></li>\n    </ul>\n    <h1>{`make sure there is a space after the - so that the TOC is generated`}</h1>\n    <p>{`{:toc}`}</p>\n    <p><strong parentName=\"p\">{`(19.0.3 UPDATE NEEDED)`}</strong></p>\n    <h3>{`Required services`}</h3>\n    <p>{`Before installing the IBM FileNet Content Manager (ECM), you should have the following pre-requisites in place:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Have privileged access to your DB2 database server. `}</li>\n      <li parentName=\"ul\">{`Optionally, have access to your LDAP directory server.`}</li>\n    </ul>\n    <p>{`See the `}<a parentName=\"p\" {...{\n        \"href\": \"/content/automation/shared-services\"\n      }}>{`Shared services`}</a>{` chapter for details on DB2 or LDAP installation, if needed.`}</p>\n    <h3>{`Download the ECM PPA`}</h3>\n    <p>{`Download the following PPA from `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.ibm.com/software/passportadvantage\"\n      }}>{`IBM Passport Advantage`}</a>{` to your working-directory:`}</p>\n    <ul>\n      <li parentName=\"ul\"><em parentName=\"li\">{`IBM Cloud Pak for Automation v19.0.1 - Content Manager for Certified Kubernetes Multiplatform Multilingual (CC220ML)`}</em>{` `}</li>\n    </ul>\n    <p>{`The downloaded archive should be named `}<inlineCode parentName=\"p\">{`ICP4A19.0.1-ecm.tgz`}</inlineCode>{`.`}</p>\n    <h3>{`Log in to you OCP cluster`}</h3>\n    <p>{`See the `}<a parentName=\"p\" {...{\n        \"href\": \"/content/automation/pre-requisites\"\n      }}>{`Prerequisites`}</a>{` chapter for details on logging in to your OCP cluster.`}</p>\n    <h3>{`Create the ECM project`}</h3>\n    <p>{`Create a new OpenShift project for ECM with your desired name, e.g. `}<inlineCode parentName=\"p\">{`ecmproject`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc new-project ecmproject\n`}</code></pre>\n    <p>{`Make sure you are working from your newly created ECM project, then grant the tiller server `}<inlineCode parentName=\"p\">{`edit`}</inlineCode>{` access to current project:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc project ecmproject\noc adm policy add-role-to-user edit \"system:serviceaccount:tiller:tiller\"\n`}</code></pre>\n    <h3>{`Update the Security Context Constraint (SCC)`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Add privileged access to default service account.  `}</li>\n      <li parentName=\"ul\">{`The ecm Helm chart uses supplemental groups. You must modify the ecmproject namespace file to include that range of supplemental groups.  `}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`oc adm policy add-scc-to-user privileged -z default\n\noc edit namespace ecmproject\n`}</code></pre>\n    <p>{`While in the editor change this line:   `}</p>\n    <ul>\n      <li parentName=\"ul\">{`openshift.io/sa.scc.supplemental-groups: 1000250000/10000  `}</li>\n    </ul>\n    <p>{`to the value 500/50000 so it looks like this:  `}</p>\n    <ul>\n      <li parentName=\"ul\">{`openshift.io/sa.scc.supplemental-groups: 500/50000  `}</li>\n    </ul>\n    <p>{`If the SCC is not applied properly you may get the following error later on:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`forbidden: unable to validate against any security context constraint: [fsGroup: Invalid value: []int64{50000}: 50000 is not an allowed group\n`}</code></pre>\n    <h3>{`Push the ECM images to the registry`}</h3>\n    <p>{`Login to the Docker registry using your correct docker registry url. Example below. If you are running on-premise (i.e. not OpenShift as Managed Service on IBM Cloud) then you may need to precede the docker command with `}<inlineCode parentName=\"p\">{`sudo`}</inlineCode>{`. If you are running on OpenShift as Managed Service on IBM Cloud you will need to turn on port forwarding as described in `}<a parentName=\"p\" {...{\n        \"href\": \"./shared-services.md\"\n      }}>{`Shared services`}</a>{` chapter. `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`docker login -u $(oc whoami) -p $(oc whoami -t) docker-registry.default.svc:5000\n`}</code></pre>\n    <p>{`Download the `}<inlineCode parentName=\"p\">{`loadimages.sh`}</inlineCode>{` script to your working directory:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`wget https://raw.githubusercontent.com/icp4a/cert-kubernetes/19.0.1/scripts/loadimages.sh\nchmod +x loadimages.sh\n`}</code></pre>\n    <p>{`Load the ecm product binary images:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`./loadimages.sh -p ICP4A19.0.1-ecm.tgz -r docker-registry.default.svc:5000/ecmproject\n`}</code></pre>\n    <h3>{`Create the databases`}</h3>\n    <p>{`Download these files to your working directory on the database server:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/cpe/db2/GCDDB.sh\"\n        }}><inlineCode parentName=\"a\">{`GCDDB.sh`}</inlineCode></a>{` `}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/cpe/db2/OS1DB.sh\"\n        }}><inlineCode parentName=\"a\">{`OS1DB.sh`}</inlineCode></a>{` `}</li>\n    </ul>\n    <p>{`Run the following commands:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`## copy the db2 install script\nmkdir -p /data/db2fs\nmkdir -p /data/database/config\n\n## copy the GCDDB.sh and OS1DB.sh into folder /data/database/config\ncp GCDDB.sh /data/database/config\ncp OS1DB.sh /data/database/config\n\nexport CUR_COMMIT=ON\nsu - db2inst1 -c \"db2set DB2_WORKLOAD=FILENET_CM\"\necho \"set CUR_COMMIT=$CUR_COMMIT\"\n\nchown db2inst1:db2iadm1 /data/database/config/*.sh\nchmod 755 /data/database/config/*.sh\nchown -R db2inst1:db2iadm1 /data/db2fs\n\n## If you change the database names as the last entry on these lines you will also need to change them in GCD.xml and OBJSTORE.xml later on\nsu - db2inst1 -c \"/data/database/config/GCDDB.sh GCDDB\"\nsu - db2inst1 -c \"/data/database/config/OS1DB.sh OS1DB\"\n`}</code></pre>\n    <h3>{`Set up the persistent volumes`}</h3>\n    <p>{`Run the following commands to create the required PV folders in NFS, where `}<inlineCode parentName=\"p\">{`/data/persistentvolumes/`}</inlineCode>{` is the mounted directory of your NFS server:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`mkdir -p /data/persistentvolumes/cpe/configDropins/overrides\nmkdir -p /data/persistentvolumes/cpe/logs\nmkdir -p /data/persistentvolumes/cpe/cpefnlogstore\nmkdir -p /data/persistentvolumes/cpe/bootstrap\nmkdir -p /data/persistentvolumes/cpe/textext\nmkdir -p /data/persistentvolumes/cpe/icmrules\nmkdir -p /data/persistentvolumes/cpe/asa\n\nchown 50001:50000 /data/persistentvolumes/cpe/configDropins\nchown 50001:50000 /data/persistentvolumes/cpe/configDropins/overrides\nchown 50001:50000 /data/persistentvolumes/cpe/logs\nchown 50001:50000 /data/persistentvolumes/cpe/cpefnlogstore\nchown 50001:50000 /data/persistentvolumes/cpe/bootstrap\nchown 50001:50000 /data/persistentvolumes/cpe/textext\nchown 50001:50000 /data/persistentvolumes/cpe/icmrules\nchown 50001:50000 /data/persistentvolumes/cpe/asa\n\nmkdir -p /data/persistentvolumes/css/CSS_Server/data\nmkdir -p /data/persistentvolumes/css/CSS_Server/temp\nmkdir -p /data/persistentvolumes/css/CSS_Server/log\nmkdir -p /data/persistentvolumes/css/CSS_Server/config\nmkdir -p /data/persistentvolumes/css/indexareas\n\nchown 50001:50000 /data/persistentvolumes/css/CSS_Server/data\nchown 50001:50000 /data/persistentvolumes/css/CSS_Server/temp\nchown 50001:50000 /data/persistentvolumes/css/CSS_Server/log\nchown 50001:50000 /data/persistentvolumes/css/CSS_Server/config\nchown 50001:50000 /data/persistentvolumes/css/indexareas\n\nmkdir -p /data/persistentvolumes/cmis/configDropins/overrides\nmkdir -p /data/persistentvolumes/cmis/logs\n\nchown 50001:50000 /data/persistentvolumes/cmis/configDropins/overrides\nchown 50001:50000 /data/persistentvolumes/cmis/logs\n`}</code></pre>\n    <p>{`Obtain the DB2 drivers from your database server installation. Copy them to the PVs. If your database server is local the commands should look like this: `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`cp /opt/ibm/db2/V11.1/java/db2jcc4.jar /data/persistentvolumes/cpe/configDropins/overrides/\ncp /opt/ibm/db2/V11.1/java/db2jcc_license_cu.jar /data/persistentvolumes/cpe/configDropins/overrides/\n`}</code></pre>\n    <p>{`Download all the cpe overrides files to your working directory `}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/cpe/configDropins/overrides/GCD.xml\"\n        }}><inlineCode parentName=\"a\">{`GCD.xml`}</inlineCode></a>{` `}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/cpe/configDropins/overrides/OBJSTORE.xml\"\n        }}><inlineCode parentName=\"a\">{`OBJSTORE.xml`}</inlineCode></a>{` `}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/cpe/configDropins/overrides/DB2JCCDriver.xml\"\n        }}><inlineCode parentName=\"a\">{`DB2JCCDriver.xml`}</inlineCode></a>{` `}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/cpe/configDropins/overrides/ldap_TDS.xml\"\n        }}><inlineCode parentName=\"a\">{`ldap_TDS.xml`}</inlineCode></a>{`  `}</li>\n    </ul>\n    <p>{`If you changed the database names in the database creation step above, you will also need to change them in GCD.xml and OBJSTORE.xml here  `}</p>\n    <p>{`Edit GCD.xml, replacing `}<inlineCode parentName=\"p\">{`<ip-address>`}</inlineCode>{` with the ip-address of the database server, and possibly the database name.`}<br parentName=\"p\"></br>{`\n`}{`Edit OBJSTORE.xml, replacing `}<inlineCode parentName=\"p\">{`<ip-address>`}</inlineCode>{` with the ip-address of the database server, and possibly the database name.\nDB2JCCDriver.xml contains the locations of the db2jcc4.jar and db2jcc_license_cu.jar files.`}<br parentName=\"p\"></br>{`\n`}{`Edit ldap_TDS.xml, replacing `}<inlineCode parentName=\"p\">{`<ip-address>`}</inlineCode>{` with the ip-address of the LDAP server.  `}</p>\n    <p>{`Then then run the following commands:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`cp DB2JCCDriver.xml /data/persistentvolumes/cpe/configDropins/overrides/\ncp GCD.xml /data/persistentvolumes/cpe/configDropins/overrides/\ncp ldap_TDS.xml /data/persistentvolumes/cpe/configDropins/overrides/\ncp OBJSTORE.xml /data/persistentvolumes/cpe/configDropins/overrides/\n`}</code></pre>\n    <p>{`Download the cmis overrides files to your working directory. You may get a warning because the same filename is used by cpe.  `}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/cmis/configDropins/overrides/ldap_TDS.xml\"\n        }}><inlineCode parentName=\"a\">{`ldap_TDS.xml`}</inlineCode></a>{`    `}</li>\n    </ul>\n    <p>{`Edit ldap_TDS.xml, replacing `}<inlineCode parentName=\"p\">{`<ip-address>`}</inlineCode>{` with the ip-address of the LDAP server`}<br parentName=\"p\"></br>{`\n`}{`Then then run the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`cp ldap_TDS.xml /data/persistentvolumes/cmis/configDropins/overrides/\n`}</code></pre>\n    <p>{`Download the `}<a parentName=\"p\" {...{\n        \"href\": \"/assets/automation/css/cssSelfsignedServerStore\"\n      }}><inlineCode parentName=\"a\">{`cssSelfsignedServerStore`}</inlineCode></a>{` file to your working directory then run the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`cp cssSelfsignedServerStore /data/persistentvolumes/css/CSS_Server/data\n`}</code></pre>\n    <p>{`Download the PV configuration files to your working directory.`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/cpe/cpe-pv.yaml\"\n        }}><inlineCode parentName=\"a\">{`cpe-pv.yaml`}</inlineCode></a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/css/css-pv.yaml\"\n        }}><inlineCode parentName=\"a\">{`css-pv.yaml`}</inlineCode></a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/cmis/cmis-pv.yaml\"\n        }}><inlineCode parentName=\"a\">{`cmis-pv.yaml`}</inlineCode></a>{` `}</li>\n    </ul>\n    <p>{`Edit each file. Replace the placeholder `}<inlineCode parentName=\"p\">{`<ip-address>`}</inlineCode>{` placeholder with the IP address of NFS server and adjust the persistent volume path if needed.`}</p>\n    <p>{`Run the following commands to create the PVs:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc apply -f cpe-pv.yaml\noc apply -f css-pv.yaml\noc apply -f cmis-pv.yaml\n`}</code></pre>\n    <h3>{`Create secrets`}</h3>\n    <p>{`The Helm charts requires a secret in order to pull images from docker You might need to change the address of the docker server.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc create secret docker-registry admin.registrykey --docker-server=docker-registry.default.svc:5000 --docker-username=$(oc whoami) --docker-password=$(oc whoami -t) -n ecmproject\n`}</code></pre>\n    <p>{`Note that you cannot add the same secret more than once. If you need to delete a secret in order to create a new one, use the following command:  `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc delete secret admin.registrykey -n ecmproject\n`}</code></pre>\n    <h3>{`Install the ECM components`}</h3>\n    <p>{`Download these files to your working directory.`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/cpe/cpe-values.yaml\"\n        }}><inlineCode parentName=\"a\">{`cpe-values.yaml`}</inlineCode></a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/css/css-values.yaml\"\n        }}><inlineCode parentName=\"a\">{`css-values.yaml`}</inlineCode></a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/cmis/cmis-values.yaml\"\n        }}><inlineCode parentName=\"a\">{`cmis-values.yaml`}</inlineCode></a>{` `}</li>\n    </ul>\n    <p>{`Download the Helm charts to your working directory:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`wget https://github.com/icp4a/cert-kubernetes/raw/master/CONTENT/helm-charts/ibm-dba-contentservices-3.0.0.tgz\nwget https://github.com/icp4a/cert-kubernetes/raw/master/CONTENT/helm-charts/ibm-dba-contentsearch-3.0.0.tgz\nwget https://github.com/icp4a/cert-kubernetes/raw/master/CONTENT/helm-charts/ibm-dba-cscmis-1.7.0.tgz\n`}</code></pre>\n    <p>{`Install the Helm charts of CPE and Content Search:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`helm install ibm-dba-contentservices-3.0.0.tgz --name cpe-prod-release --namespace ecmproject -f cpe-values.yaml\nhelm install ibm-dba-contentsearch-3.0.0.tgz --name css-prod-release --namespace ecmproject -f css-values.yaml\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Expose the ACCE console service`}</li>\n    </ul>\n    <p>{`Download the `}<a parentName=\"p\" {...{\n        \"href\": \"/assets/automation/cpe/cpe-route.yaml\"\n      }}><inlineCode parentName=\"a\">{`cpe-route.yaml`}</inlineCode></a>{` file to your working directory and run the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc apply -f cpe-route.yaml\n`}</code></pre>\n    <p>{`Find the URL of CPE web service using the command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc get routes\n`}</code></pre>\n    <p>{`The URL should be something like: `}<inlineCode parentName=\"p\">{`http://cpe-prod-release-ibm-dba-contentservices-http-ecmproject.router.default.svc.cluster.local/wsi/FNCEWS40MTOM`}</inlineCode></p>\n    <p>{`Edit the file cmis-values.yaml and change the attribute `}<inlineCode parentName=\"p\">{`cpeURL`}</inlineCode>{` then install the Helm chart of CMIS:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`helm install ibm-dba-cscmis-1.7.0.tgz --name cmis-prod-release --namespace ecmproject -f cmis-values.yaml\n`}</code></pre>\n    <h3>{`Open ACCE console in a browser`}</h3>\n    <p>{`To retrieve the ACCE console service URL, first find the URL of the OCP cluster console:  `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc get route -n openshift-console\n\n`}</code></pre>\n    <p>{`which will return something like this:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`NAME      HOST/PORT                                   PATH      SERVICES   PORT      TERMINATION          WILDCARD\nconsole   console.apps-cp4a-res.rtp.raleigh.ibm.com             console    https     reencrypt/Redirect   None\n`}</code></pre>\n    <p>{`Open the Host/Port in a browser. Select the ecmproject. On the left, select Networking, and the routes. This will give you the base URL for ACCE. Append /acce to that url. That should take you to the ACCE page.`}</p>\n    <p>{`The user name is `}<inlineCode parentName=\"p\">{`ceadmin`}</inlineCode>{` and the password is `}<inlineCode parentName=\"p\">{`Passw0rd`}</inlineCode>{`.`}</p>\n    <h3>{`Post-install tasks`}</h3>\n    <p>{`There is a set of steps you need to execute to complete the installation of CPE.`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"https://www.ibm.com/support/knowledgecenter/SSNW2F_5.5.0/com.ibm.p8.install.doc/p8pin328.htm\"\n          }}>{`Create the FileNet P8 domain`}</a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"https://www.ibm.com/support/knowledgecenter/SSNW2F_5.5.0/com.ibm.p8.install.doc/p8pin327.htm\"\n          }}>{`Create the database connection`}</a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"https://www.ibm.com/support/knowledgecenter/SSNW2F_5.5.0/com.ibm.p8.install.doc/p8pin034.htm\"\n          }}>{`Create an initial object store`}</a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSNW2F_5.5.0/com.ibm.p8.ce.admin.tasks.doc/featureaddons/fa_install_addon.htm\"\n          }}>{`Install the necessary add-ons to the object store`}</a>{`: This step can be done in the previous step while creating the object store. The following add-ons can be activated:\n`}<img parentName=\"p\" {...{\n            \"src\": \"/assets/automation/images/ObjectStoreAddOns.jpg\",\n            \"alt\": \"Add-ons\"\n          }}></img></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSYHZ8_19.0.x/com.ibm.dba.install/k8s_topics/tsk_configcpe_css.html\"\n          }}>{`Configure CPE for Content Search Service`}</a></p>\n      </li>\n    </ul>\n    <p>{`Here is the complete documentation for post-installation tasks:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSYHZ8_19.0.x/com.ibm.dba.install/k8s_topics/tsk_deploy_postecmdeployk8s.html\"\n        }}>{`Completing post-deployment tasks for IBM FileNet Content Manager`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://www.ibm.com/support/knowledgecenter/SSGLW6_5.5.0/com.ibm.p8toc.doc/p8_worksheet.xls\"\n        }}>{`Installation and Upgrade Worksheet`}</a></li>\n    </ul>\n    <h3>{`Uninstall`}</h3>\n    <p>{`If needed, run the following steps to uninstall ECM:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`helm delete cpe-prod-release --purge\nhelm delete css-prod-release --purge\nhelm delete cmis-prod-release --purge\n\n# delete the cpe route\noc delete -f cpe-route.yaml\n`}</code></pre>\n    <p>{`To delete the persisted data of the release, you can delete the PVCs using the following commands:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc delete pvc cmis-cfgstore-pvc\noc delete pvc cmis-logstore-pvc\noc delete pvc cpe-bootstrap-pvc\noc delete pvc cpe-cfgstore-pvc\noc delete pvc cpe-filestore-pvc\noc delete pvc cpe-fnlogstore-pvc\noc delete pvc cpe-icmrules-pvc\noc delete pvc cpe-logstore-pvc\noc delete pvc cpe-textext-pvc\noc delete pvc cs-customstore-pvc\noc delete pvc css-cfgstore-pvc\noc delete pvc css-indexstore-pvc\noc delete pvc css-logstore-pvc\noc delete pvc css-tempstore-pvc\n\noc delete -f cpe-pv.yaml\noc delete -f css-pv.yaml\noc delete -f cmis-pv.yaml  \n`}</code></pre>\n    <p>{`You can delete the Docker secret`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc delete secret admin.registrykey -n ecmproject\n`}</code></pre>\n    <p>{`Ask your database administrator to delete the db2 instances.`}</p>\n    <h3>{`Troubleshooting`}</h3>\n    <p>{`Check the pods for the ecmproject. This will show the overall health.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc get pods -n ecmproject\n`}</code></pre>\n    <p>{`Common problems:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`The registry might have run out of space. `}</li>\n      <li parentName=\"ul\">{`Check that you’re pulling from the docker registry that you uploaded to.`}</li>\n      <li parentName=\"ul\">{`Review the security secret. `}</li>\n      <li parentName=\"ul\">{`Docker might be configured incorrectly.  `}</li>\n    </ul>\n    <p>{`Make sure all five images were uploaded correctly. Check for errors in the `}<inlineCode parentName=\"p\">{`./loadimages.sh`}</inlineCode>{` step earlier.   `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc get imagestreams -n ecmproject\n`}</code></pre>\n    <p>{`Use the oc describe pod to get a better idea of what failed:   `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc describe pod <pod name> -n ecmproject\n`}</code></pre>\n    <p>{`Run oc logs to view the pod’s log files`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc logs <pod name> -n ecmproject\n\n`}</code></pre>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}